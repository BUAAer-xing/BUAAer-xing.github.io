<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">阅读笔记 | BUAAer-xing Blog</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://buaaer-xing.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://buaaer-xing.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://buaaer-xing.github.io/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="阅读笔记 | BUAAer-xing Blog"><meta data-rh="true" name="description" content="文章地址：“A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices” (Sao 等, 2018, p. 908) (pdf)"><meta data-rh="true" property="og:description" content="文章地址：“A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices” (Sao 等, 2018, p. 908) (pdf)"><link data-rh="true" rel="icon" href="/img/icon.png"><link data-rh="true" rel="canonical" href="https://buaaer-xing.github.io/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记"><link data-rh="true" rel="alternate" href="https://buaaer-xing.github.io/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记" hreflang="en"><link data-rh="true" rel="alternate" href="https://buaaer-xing.github.io/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://YOUR_APP_ID-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="BUAAer-xing Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="BUAAer-xing Blog Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="BUAAer-xing Blog" href="/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.0287982b.css">
<script src="/assets/js/runtime~main.6e1bc470.js" defer="defer"></script>
<script src="/assets/js/main.c1d9f81a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/icon.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/icon.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Home</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/paper-notes-intro">论文笔记</a><a class="navbar__item navbar__link" href="/docs/week_report/week_report_intro">周报汇总</a><a class="navbar__item navbar__link" href="/docs/blogs-intro">个人博客</a><a class="navbar__item navbar__link" href="/blog">相关内容</a><a class="navbar__item navbar__link" href="/resume">个人简历</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/BUAAer-xing/BUAAer-xing.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/paper-notes-intro">笔记说明</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/paper_notes/HYCOM/HYCOM概述">HYCOM</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/paper_notes/LU/intro">LU</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/paper_notes/LU/intro">说明</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/知识补充">A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/知识补充">知识补充</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/论文原件">论文原件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记">阅读笔记</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/paper_notes/LU/A communication-avoiding 3D sparse triangular solver/论文原件">A communication-avoiding 3D sparse triangular solver</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/paper_notes/LU/Making Sparse Gaussian Elimination Scalable by Static Pivoting/阅读笔记">Making Sparse Gaussian Elimination Scalable by Static Pivoting</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/paper_notes/LU/Pangu LU A Scalable Regular Two-Dimensional Block-Cyclic Sparse Direct Solver on Distributed Heterogeneous Systems/论文原件">Pangu LU A Scalable Regular Two-Dimensional Block-Cyclic Sparse Direct Solver on Distributed Heterogeneous Systems</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/paper_notes/Kernel/intro">Kernel</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/paper_notes/未分类/intro">未分类</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">LU</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">阅读笔记</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>阅读笔记</h1>
<p>文章地址：“A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices” (<a href="zotero://select/library/items/UICZ8364" target="_blank" rel="noopener noreferrer">Sao 等, 2018, p. 908</a>) (<a href="zotero://open-pdf/library/items/528APPXK?page=1&amp;annotation=4GGZCA3N" target="_blank" rel="noopener noreferrer">pdf</a>)</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="abstract">Abstract<a class="hash-link" aria-label="Direct link to Abstract" title="Direct link to Abstract" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#abstract">​</a></h2>
<p>文章提出一种新的算法用于提升分布式内存系统上<strong>右向稀疏矩阵LU分解</strong>的<strong>可扩展性</strong>。</p>
<p>3D稀疏LU分解算法，使用<strong>三维的MPI进程网格</strong>，积极利用消元树的并行性，并权衡了增加内存和减少每个进程通信的代价。</p>
<p>简单来说，这种方法通过利用并行处理的优势，减少了每个进程之间的通信（reduced per-process communication），从而提高了算法的效率。</p>
<p>这篇论文作者所做的工作：</p>
<ol>
<li>提出一种新的算法来提升右向LU稀疏矩阵分解的可扩展性。<!-- -->
<ol>
<li>该算法使用三维MPI进程网格，积极利用消除树的并行性，实现了在不显著增加内存的情况下，减少每个进程通信的代价。</li>
<li>这个算法  是基于SuperLu_DIST的。</li>
</ol>
</li>
<li>对平面图（例如，来自2D网格或网格域）和某些非平面图（特别是3D网格和网格）的渐近改进进行了分析。</li>
</ol>
<p>结果：</p>
<ul>
<li>planar graphs：Our new 3D code achieves speedups up to 27× for planar graphs</li>
<li>nonplanar graphs：up to 3.3× for nonplanar graphs over the baseline 2D SuperLU_DIST when run on 24,000 cores of a Cray XC30.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduce">Introduce<a class="hash-link" aria-label="Direct link to Introduce" title="Direct link to Introduce" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#introduce">​</a></h2>
<p>求解方程组<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>x</mi><mo>=</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">Ax=b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal">A</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal">b</span></span></span></span>,其中A是大的稀疏矩阵，可以通过<strong>高斯消元</strong>或者<strong>LU分解</strong>来进行解决。</p>
<p>但是，它面临的问题有：</p>
<ol>
<li>复杂的数据依赖</li>
<li>无规则的内存访问模式</li>
<li>高度的动态算术强度</li>
</ol>
<p>而相比于稠密矩阵对比来说，即使在相对较小的核心数上，在稀疏求解器上，<strong>通信</strong>也会很快的成为主要瓶颈。</p>
<p>虽然<strong>重叠计算和通信等技术</strong>可以是有效的，但它们只有在<strong>计 算和通信成本相当</strong>的情况下才能有效。</p>
<p>并且，在规模越大的问题上面，花费在通信上面的代价就更加昂贵。</p>
<p>前面人的主要工作的一个主要的思想是：</p>
<ul>
<li>缩小传输的冗余计算数据</li>
<li>缩小传输的复制计算数据</li>
</ul>
<p>因此，该篇文章主要做的是，将<strong>避免通信的方法精确地应用于稀疏LU分解</strong>上面。</p>
<p>3D sparse LU factorization algorithm:</p>
<ul>
<li>它使用三维逻辑进程网格，而不是稀疏 LU 中最先进的二维进程网格。</li>
<li>它通过复制数据来减少信息数量和通信量。</li>
</ul>
<p>所有的稀疏LU方法都有消元树结构，因此，在3D稀疏LU分解上，有效的使用该结构，将问题映射到3D进程网格上。</p>
<p><strong>3D 稀疏 LU 的工作原理</strong>：首先，将三维过程网格视为二维网格的集合。我们将消除树分为独立的子树和所有子树的共同祖先树。每个子树的因式分解都是独立的，但每次因式分解都会更新共同祖先树。我们将每个子树的因式分解映射到二维网格上，并在所有处理网格上复制共同祖先。每个 2D 网格对其子树进行因式分解，并使用共同祖先的副本执行舒尔补全更新。然后，我们将这些副本还原到单个网格上，并以二维方式对其进行因式分解。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="background">Background<a class="hash-link" aria-label="Direct link to Background" title="Direct link to Background" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#background">​</a></h2>
<p>本文中最重要的概念主要有两个：</p>
<ul>
<li>用于引导并行计算的消元树结构</li>
<li>作为baseline算法的库——SuperLU_DIST</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-to-sparse-direct-solvers">Introduction to sparse direct solvers<a class="hash-link" aria-label="Direct link to Introduction to sparse direct solvers" title="Direct link to Introduction to sparse direct solvers" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#introduction-to-sparse-direct-solvers">​</a></h3>
<p>不利用迭代求解去求解线性方程Ax=b（比如CG方法），而是通过直接求解的方法去求解该线性方程（高斯消元法/LU分解）。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="lu分解的方法">LU分解的方法<a class="hash-link" aria-label="Direct link to LU分解的方法" title="Direct link to LU分解的方法" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#lu分解的方法">​</a></h4>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>A</mi><mi>x</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>b</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>L</mi><mi>U</mi><mi>x</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>b</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mo>⇒</mo><mi>x</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mo stretchy="false">(</mo><mi>L</mi><mi>U</mi><msup><mo stretchy="false">)</mo><mrow><mo>−</mo><mn>1</mn></mrow></msup><mi>b</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msup><mi>U</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><msup><mi>L</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mi>b</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}
Ax&amp;=b \\
LUx&amp;=b\\\Rightarrow x&amp;=(LU)^{-1}b\\&amp;=U^{-1}L^{-1}b\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:6.0482em;vertical-align:-2.7741em"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.2741em"><span style="top:-5.4341em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="mord mathnormal">x</span></span></span><span style="top:-3.9341em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">LUx</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mord mathnormal">x</span></span></span><span style="top:-0.8859em"><span class="pstrut" style="height:3em"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.7741em"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.2741em"><span style="top:-5.4341em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mord mathnormal">b</span></span></span><span style="top:-3.9341em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mord mathnormal">b</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em">LU</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord mathnormal">b</span></span></span><span style="top:-0.8859em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">U</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord mathnormal">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.7741em"><span></span></span></span></span></span></span></span></span></span></span></span>
<p>转换成求解两个方程组：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>U</mi><mi>x</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msup><mi>L</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mi>b</mi><mspace width="1em"></mspace><mi>i</mi><mi>f</mi><mspace width="1em"></mspace><mi>y</mi><mo>=</mo><msup><mi>L</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mi>b</mi><mspace width="1em"></mspace><mi>t</mi><mi>o</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>U</mi><mi>x</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>y</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>L</mi><mi>y</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>b</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mtext>其中</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>,L为下三角矩阵,U为上三角矩阵</mtext></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}
Ux&amp;=L^{-1}b \quad if \quad y = L^{-1}b  \quad to \\
Ux&amp;=y\\
Ly&amp;=b \\
\text{其中}&amp;\text{,L为下三角矩阵,U为上三角矩阵}\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:6.0241em;vertical-align:-2.7621em"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.2621em"><span style="top:-5.3979em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">Ux</span></span></span><span style="top:-3.8979em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">Ux</span></span></span><span style="top:-2.3979em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">L</span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span><span style="top:-0.8979em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord text"><span class="mord cjk_fallback">其中</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.7621em"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.2621em"><span style="top:-5.3979em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:1em"></span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="mspace" style="margin-right:1em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:1em"></span><span class="mord mathnormal">t</span><span class="mord mathnormal">o</span></span></span><span style="top:-3.8979em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span><span style="top:-2.3979em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mord mathnormal">b</span></span></span><span style="top:-0.8979em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"></span><span class="mord text"><span class="mord">,L</span><span class="mord cjk_fallback">为下三角矩阵</span><span class="mord">,U</span><span class="mord cjk_fallback">为上三角矩阵</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.7621em"><span></span></span></span></span></span></span></span></span></span></span></span>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="elimination-tree">Elimination tree<a class="hash-link" aria-label="Direct link to Elimination tree" title="Direct link to Elimination tree" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#elimination-tree">​</a></h4>
<p><img decoding="async" loading="lazy" src="https://cdn.jsdelivr.net/gh/NEUQer-xing/Markdown_images@master/images-2/20231017175934.png" alt="image.png|center" class="img_ev3q"></p>
<p>消除树反映了 A11、A22 和 A33 因式分解之间的依赖关系。</p>
<p>当 A 比较稀疏时，进行分解后的矩阵 L 和 U 往往会出现填充现象，这意味着它们比 A 有更多的<strong>非零点</strong>。通常，在进行因数分解之前，会对 A 矩阵进行置换，以减少 L 和 U 中的填充量。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="a-sparse-matrix-its-associated-graph-and-separators">A sparse matrix, its associated graph and separators<a class="hash-link" aria-label="Direct link to A sparse matrix, its associated graph and separators" title="Direct link to A sparse matrix, its associated graph and separators" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#a-sparse-matrix-its-associated-graph-and-separators">​</a></h3>
<p>pentadiagonal matrix ： 五对角矩阵，类推于n对角矩阵，就是中间行有n个元素，也可以看左上角和右下角，有n个非零元素</p>
<p><img decoding="async" loading="lazy" src="https://cdn.jsdelivr.net/gh/NEUQer-xing/Markdown_images@master/images-2/20231017182632.png" alt="image.png|center|800" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="alan-georges-nested-dissection-method">Alan George’s Nested Dissection Method<a class="hash-link" aria-label="Direct link to Alan George’s Nested Dissection Method" title="Direct link to Alan George’s Nested Dissection Method" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#alan-georges-nested-dissection-method">​</a></h4>
<ul>
<li>associated graph 关联矩阵<!-- -->
<ul>
<li>任何维数为 n 的稀疏矩阵 A 都有一个相应的具有 n 个顶点的图 G。<strong>对于 A 中的任何非零元素 aij，G 中都有一条从 i 到 j 的权重为 aij 的有向边。</strong></li>
</ul>
</li>
<li>separators [[5-论文笔记/LU相关/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/知识补充##分隔符|分割符]]：&quot;separator&quot;（分隔符）<!-- -->
<ul>
<li><strong>指的是在一个图或网络中，能够将图分成多个部分或组件的节点集合</strong>。这个节点集合具有特定的性质，<strong>当从图中删除这些节点后，原始图会分成两个或多个互不相连的子图</strong>。</li>
<li>（A separator of a graph is a relatively small set of vertices whose removal&amp;auses the graph to fall apart into a number of smaller pieces.）</li>
</ul>
</li>
<li>Nested Dissection Method<!-- -->
<ul>
<li>George&#x27;s scheme uses the fact that removal of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mi>k</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2k-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03148em">k</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">1</span></span></span></span> precisely vertices from a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>×</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">k × k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em"></span><span class="mord mathnormal" style="margin-right:0.03148em">k</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.03148em">k</span></span></span></span> square grid leaves four square grids, each roughly <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mi>k</mi><mn>2</mn></mfrac><mo>×</mo><mfrac><mi>k</mi><mn>2</mn></mfrac><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\frac{k}{2}×\frac{k}{2}.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2251em;vertical-align:-0.345em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.2251em;vertical-align:-0.345em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord">.</span></span></span></span></li>
<li><img decoding="async" loading="lazy" src="https://cdn.jsdelivr.net/gh/NEUQer-xing/Markdown_images@master/images-2/20231019145526.png" alt="image.png|center|600" class="img_ev3q">
<img decoding="async" loading="lazy" src="https://cdn.jsdelivr.net/gh/NEUQer-xing/Markdown_images@master/images-2/20231019150322.png" alt="image.png|center|800" class="img_ev3q"></li>
</ul>
</li>
</ul>
<p><img decoding="async" loading="lazy" src="https://cdn.jsdelivr.net/gh/NEUQer-xing/Markdown_images@master/images-2/20231019150103.png" alt="image.png|center|800" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sequential-sparse-lu-factorization">Sequential Sparse LU factorization<a class="hash-link" aria-label="Direct link to Sequential Sparse LU factorization" title="Direct link to Sequential Sparse LU factorization" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#sequential-sparse-lu-factorization">​</a></h3>
<p><img decoding="async" loading="lazy" src="https://cdn.jsdelivr.net/gh/NEUQer-xing/Markdown_images@master/images-2/20231018002049.png" alt="image.png|center|800" class="img_ev3q"></p>
<p>![[A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices##^818cc3]]</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dependency-tree-in-sparse-lu-factorization">Dependency tree in sparse LU factorization<a class="hash-link" aria-label="Direct link to Dependency tree in sparse LU factorization" title="Direct link to Dependency tree in sparse LU factorization" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#dependency-tree-in-sparse-lu-factorization">​</a></h3>
<p><img decoding="async" loading="lazy" src="https://cdn.jsdelivr.net/gh/NEUQer-xing/Markdown_images@master/images-2/20231018095856.png" alt="image.png|center" class="img_ev3q"></p>
<p>对于LU分解的这种依赖关系，可以表示为elimination tree 也就是 etree</p>
<p><img decoding="async" loading="lazy" src="https://cdn.jsdelivr.net/gh/NEUQer-xing/Markdown_images@master/images-2/20231019150656.png" alt="image.png|center|800" class="img_ev3q"></p>
<p>块稀疏矩阵分布在一个 2 × 2 的进程网格中。每个圆圈代表一个非零数据块，数字表示拥有该数据块的进程 ID。</p>
<p><strong>这个树状图的标号指的是，对角线上的矩阵块。</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="a-distributed-algorithm">A distributed algorithm<!-- -->:SuperLU_DIST<a class="hash-link" aria-label="Direct link to a-distributed-algorithm" title="Direct link to a-distributed-algorithm" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#a-distributed-algorithm">​</a></h3>
<p>SuperLU_DIST is a widely used sparse direct solver library which uses a <strong>right-looking scheme</strong> and <strong>static pivoting</strong>.</p>
<p>SuperLU_DIST 使用 MPI 实现进程间并行，使用 OpenMP 实现进程内并行。</p>
<p>本文的重点是<strong>减少节点间通信</strong>，因此只考虑非加速系统的 SuperLU_DIST。</p>
<ul>
<li>数据结构<!-- -->
<ul>
<li>SuperLU_DIST 将 MPI 进程安排在二维逻辑网格中。在这个网格中，稀疏矩阵以块状循环方式分布。</li>
</ul>
</li>
<li>分解算法<!-- -->
<ul>
<li>SuperLU_DIST 按照<strong>自下而上</strong>的<strong>etree顺序</strong>对超级节点进行因子化。</li>
<li>我们将超级节点的因子化分为两个步骤：panel-factorization 和 Schur-complement。<!-- -->
<ul>
<li><strong>panel factorization</strong>包含四个部分,其中，panel factorization 涉及的数据传输和同步，仅仅只占浮点运算总量的一小部分。<!-- -->
<ol>
<li>对角线分解</li>
<li>对角线广播</li>
<li>panel solve</li>
<li>panel broadcast</li>
</ol>
</li>
<li><strong>Schur-complement</strong> ^818cc3<!-- -->
<ul>
<li>这个是对除了已经分解好的元素，该元素对应行元素和该元素对应列元素外，再进行update</li>
<li><img decoding="async" loading="lazy" src="https://cdn.jsdelivr.net/gh/NEUQer-xing/Markdown_images@master/images-2/20231018152130.png" alt="image.png|center|600" class="img_ev3q"></li>
<li><img decoding="async" loading="lazy" src="https://cdn.jsdelivr.net/gh/NEUQer-xing/Markdown_images@master/images-2/20231018151143.png" alt="image.png|center|600" class="img_ev3q"></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="task-scheduling-and-the-elimination-tree">Task scheduling and the elimination tree<a class="hash-link" aria-label="Direct link to Task scheduling and the elimination tree" title="Direct link to Task scheduling and the elimination tree" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#task-scheduling-and-the-elimination-tree">​</a></h3>
<p>SuperLU_DIST uses the e-tree’s parallelism to overlap computation and communication.</p>
<p>它<strong>同时</strong>（这里所谓的同时应该是对应行和对应列都广播完后可以立即进行更新）执行超节点的舒尔补更新和所谓<strong>前瞻窗口</strong>（lookahead window）中节点的面板分解。</p>
<p>因此，接下来几个节点的面板因式分解并不取决于当前节点的面板因式分解或舒尔补全更新。因此，<strong>SuperLU_DIST 在对超级节点进行舒尔补全更新之前，先对超级节点进行面板因式分解。</strong></p>
<p>SuperLU_DIST 利用等树的并行性来重叠计算和通信。它在所谓的前瞻窗口（lookahead window）中同时执行超级节点的舒尔补全更新和节点的面板因子化[36]。在自下而上的etree 因式分解顺序中，叶节点首先被因式分解。因此，接下来几个节点的面板因式分解并不依赖于当前节点的面板因式分解或舒尔补全更新。因此，SuperLU_DIST 在对超级节点进行舒尔补全更新之前，先对超级节点进行面板因子化。但前瞻窗口中节点的舒尔补全更新无法并行执行，因为叶节点的舒尔补全可能共享矩阵 A 的共同块。因此，SuperLU_DIST 会顺序执行每个超级节点的舒尔补全更新。</p>
<p><img decoding="async" loading="lazy" src="https://cdn.jsdelivr.net/gh/NEUQer-xing/Markdown_images@master/images-2/20231018154637.png" alt="image.png|center|400" class="img_ev3q"></p>
<p>通常情况下，较大的前瞻窗口会产生过多的通信报文，并需要过多的缓冲空间来处理传入的报文。因此，前瞻窗口的固定大小通常在 8-20 步之间。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="limitations-of-2d-sparse-lu-">Limitations of 2D Sparse LU 🌟🌟<a class="hash-link" aria-label="Direct link to Limitations of 2D Sparse LU 🌟🌟" title="Direct link to Limitations of 2D Sparse LU 🌟🌟" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#limitations-of-2d-sparse-lu-">​</a></h3>
<p>二维算法在某一点上具有良好的扩展性，超过这一点后，数据传输的成本开始主导计算的成本。此外，当进程数量较多时，负载不平衡的影响会变得更加突出。因此，在进程数量达到一定程度后，我们会发现增加进程会导致因式分解时间减慢。从根本上说，二维因式分解有以下两个局限性：</p>
<ul>
<li><strong>Sequential Schur-complement update</strong>
<ul>
<li>在二维算法中，<strong>对于一个给定的区块，只有一个进程可以执行舒尔补全更新</strong>。因此，尽管有丰富的树级并行性，二维算法必须顺序执行所有舒尔补全更新。</li>
</ul>
</li>
<li><strong>Fixed latency cost</strong>
<ul>
<li>几乎所有进程都参与了所有超级节点的因式分解。因此，各种通信内核的延迟并不会随着处理器数量的增加而减少。</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="a-3d-sparse-lu-factorization-algorithm">A 3D Sparse LU Factorization Algorithm<a class="hash-link" aria-label="Direct link to A 3D Sparse LU Factorization Algorithm" title="Direct link to A 3D Sparse LU Factorization Algorithm" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#a-3d-sparse-lu-factorization-algorithm">​</a></h2>
<p>如何由两个不同进程并行执行给定区块 Aij 的更新？<strong>2D 算法使用仅所有 者更新策略</strong>。</p>
<p>因此，对<strong>给定数据块的舒尔补全更新是顺序进行的</strong>。</p>
<p>这就促使我们<strong>在不同进程中复制 A 的某些块</strong>。这样就可以<strong>并行地对这些数据块进行舒尔补全更新</strong>。但我们该如何选择要复制的区块和进程呢？</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="对于3️3分块的稀疏例子">对于3✖️3分块的稀疏例子<a class="hash-link" aria-label="Direct link to 对于3✖️3分块的稀疏例子" title="Direct link to 对于3✖️3分块的稀疏例子" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#对于3️3分块的稀疏例子">​</a></h3>
<p>可以使用etree去决定复制哪一份数据，从而实现并行计算。</p>
<p><img decoding="async" loading="lazy" src="https://cdn.jsdelivr.net/gh/NEUQer-xing/Markdown_images@master/images-2/20231018171643.png" alt="image.png" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="一般情况">一般情况<a class="hash-link" aria-label="Direct link to 一般情况" title="Direct link to 一般情况" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#一般情况">​</a></h3>
<p><img decoding="async" loading="lazy" src="https://cdn.jsdelivr.net/gh/NEUQer-xing/Markdown_images@master/images-2/20231018175651.png" alt="image.png|center|1000" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="负载均衡">负载均衡<a class="hash-link" aria-label="Direct link to 负载均衡" title="Direct link to 负载均衡" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#负载均衡">​</a></h3>
<p>当顶层的子树不平衡时，我们可以进一步将子树划分到另一层，以获得更好的平衡。</p>
<p><img decoding="async" loading="lazy" src="https://cdn.jsdelivr.net/gh/NEUQer-xing/Markdown_images@master/images-2/20231024104216.png" alt="image.png" class="img_ev3q"></p>
<p>比如上图所示，假如以节点0来进行划分，则两个节点0下面的子树会处于不平衡的状态，但是如果以节点0，1来进行划分，则两边的子树则会更趋向于平衡些。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3d稀疏矩阵lu分解的伪代码">3D稀疏矩阵LU分解的伪代码<a class="hash-link" aria-label="Direct link to 3D稀疏矩阵LU分解的伪代码" title="Direct link to 3D稀疏矩阵LU分解的伪代码" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#3d稀疏矩阵lu分解的伪代码">​</a></h3>
<p><img decoding="async" loading="lazy" src="https://cdn.jsdelivr.net/gh/NEUQer-xing/Markdown_images@master/images-2/20231024135552.png" alt="image.png" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="analysis-of-memory-and-communication-costs">Analysis of Memory and Communication Costs<a class="hash-link" aria-label="Direct link to Analysis of Memory and Communication Costs" title="Direct link to Analysis of Memory and Communication Costs" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#analysis-of-memory-and-communication-costs">​</a></h2>
<p>算法 1 相对于基线的性能取决于矩阵的稀疏性模式。</p>
<p>推导出<strong>某些模型问题的性能分析表达式</strong>，从而对算法的行为有一定的了解。</p>
<p>我们的分析考虑了两类输入矩阵。</p>
<ul>
<li>第一种是与平面图形相关的矩阵，例如在二维域上离散化偏微分方程（PDE）时出现的矩阵。</li>
<li>第二类是三维偏微分方程中出现的矩阵，这些矩阵具有 &quot;良好形状 &quot;的几何结构，但不是平面的。</li>
</ul>
<p>在给定一般输入矩阵的情况下</p>
<ul>
<li>推导出 SuperLU_DIST 基准算法在使用二维进 程网格时的内存使用、通信量和消息延迟（消息数量）的具体表达式。</li>
<li>出二维和三维算法的内存使用、通信量和消息延迟（消息数量）的具体表达式，特别是平面（二维几何）和非平面（三维几何）模型问题的表达式。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2d-sparse-lu-with-a-generic-sparse-matrix">2D Sparse LU with a generic sparse matrix<a class="hash-link" aria-label="Direct link to 2D Sparse LU with a generic sparse matrix" title="Direct link to 2D Sparse LU with a generic sparse matrix" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#2d-sparse-lu-with-a-generic-sparse-matrix">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="planar-input-graphs">Planar input graphs<a class="hash-link" aria-label="Direct link to Planar input graphs" title="Direct link to Planar input graphs" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#planar-input-graphs">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="non-planar-input-graphs">Non-planar input graphs<a class="hash-link" aria-label="Direct link to Non-planar input graphs" title="Direct link to Non-planar input graphs" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#non-planar-input-graphs">​</a></h3>
<p><img decoding="async" loading="lazy" src="https://cdn.jsdelivr.net/gh/NEUQer-xing/Markdown_images@master/images-2/20231024142011.png" alt="image.png" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="experimental-results">Experimental Results<a class="hash-link" aria-label="Direct link to Experimental Results" title="Direct link to Experimental Results" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#experimental-results">​</a></h2>
<p>我们根据基 线2D算法评估了3D稀疏LU算法。</p>
<p>主要结果表明，在实际应用中的各种稀疏矩阵上，<strong>3D算法在小核数和大核数上的性能都有所提高</strong>。此外，我们估计了三维算法的缩放极限。除了测量性能之外，我们还量化了3D算法对通信量和内存使用的影响。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="初始设置">初始设置<a class="hash-link" aria-label="Direct link to 初始设置" title="Direct link to 初始设置" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#初始设置">​</a></h3>
<p>We use SuperLU_DIST’s <strong>default parameters</strong> in our experiments.
We ran our experiments on <strong>Edison cluster at NERSC</strong>. Each node of the Edison contains dual-socket <strong>12-core Intel Ivy Bridge processors</strong>.
We chose 4 OpenMP threads per MPI process after trying various MPI×OpenMP configurations for different test matrices on 16 nodes.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="输入矩阵">输入矩阵<a class="hash-link" aria-label="Direct link to 输入矩阵" title="Direct link to 输入矩阵" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#输入矩阵">​</a></h3>
<p><img decoding="async" loading="lazy" src="https://cdn.jsdelivr.net/gh/NEUQer-xing/Markdown_images@master/images-2/20231024143316.png" alt="image.png|center|800" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3d算法在16个节点运行的表现">3D算法在16个节点运行的表现<a class="hash-link" aria-label="Direct link to 3D算法在16个节点运行的表现" title="Direct link to 3D算法在16个节点运行的表现" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#3d算法在16个节点运行的表现">​</a></h3></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/paper_notes/2_LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/论文原件"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">论文原件</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/paper_notes/LU/A communication-avoiding 3D sparse triangular solver/论文原件"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">论文原件</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#abstract">Abstract</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#introduce">Introduce</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#background">Background</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#introduction-to-sparse-direct-solvers">Introduction to sparse direct solvers</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#a-sparse-matrix-its-associated-graph-and-separators">A sparse matrix, its associated graph and separators</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#sequential-sparse-lu-factorization">Sequential Sparse LU factorization</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#dependency-tree-in-sparse-lu-factorization">Dependency tree in sparse LU factorization</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#a-distributed-algorithm">A distributed algorithm</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#task-scheduling-and-the-elimination-tree">Task scheduling and the elimination tree</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#limitations-of-2d-sparse-lu-">Limitations of 2D Sparse LU 🌟🌟</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#a-3d-sparse-lu-factorization-algorithm">A 3D Sparse LU Factorization Algorithm</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#对于3️3分块的稀疏例子">对于3✖️3分块的稀疏例子</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#一般情况">一般情况</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#负载均衡">负载均衡</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#3d稀疏矩阵lu分解的伪代码">3D稀疏矩阵LU分解的伪代码</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#analysis-of-memory-and-communication-costs">Analysis of Memory and Communication Costs</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#2d-sparse-lu-with-a-generic-sparse-matrix">2D Sparse LU with a generic sparse matrix</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#planar-input-graphs">Planar input graphs</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#non-planar-input-graphs">Non-planar input graphs</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#experimental-results">Experimental Results</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#初始设置">初始设置</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#输入矩阵">输入矩阵</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/paper_notes/LU/A Communication-Avoiding 3D LU Factorization Algorithm for Sparse Matrices/阅读笔记#3d算法在16个节点运行的表现">3D算法在16个节点运行的表现</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/paper-notes-intro">论文笔记</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/blogs-intro">个人博客</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">相关内容</a></li><li class="footer__item"><a class="footer__link-item" href="/resume">个人简历</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://t.me/cx_cst" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://blog.csdn.net/qq_45575167" target="_blank" rel="noopener noreferrer" class="footer__link-item">CSDN</a></li><li class="footer__item"><a href="https://github.com/BUAAer-xing" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 BUAAer-xing, 此网站使用 Docusaurus 进行构建✨</div></div></div></footer></div>
</body>
</html>