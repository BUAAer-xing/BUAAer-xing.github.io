<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-paper_notes/HYCOM/HYCOM v2.0 User Manual/阅读笔记" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">阅读笔记 | BUAAer-xing Blog</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://buaaer-xing.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://buaaer-xing.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://buaaer-xing.github.io/docs/paper_notes/HYCOM/HYCOM v2.0 User Manual/阅读笔记"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="阅读笔记 | BUAAer-xing Blog"><meta data-rh="true" name="description" content="1.FORTRAN 90 Version 2.0.01"><meta data-rh="true" property="og:description" content="1.FORTRAN 90 Version 2.0.01"><link data-rh="true" rel="icon" href="/img/icon.png"><link data-rh="true" rel="canonical" href="https://buaaer-xing.github.io/docs/paper_notes/HYCOM/HYCOM v2.0 User Manual/阅读笔记"><link data-rh="true" rel="alternate" href="https://buaaer-xing.github.io/docs/paper_notes/HYCOM/HYCOM v2.0 User Manual/阅读笔记" hreflang="en"><link data-rh="true" rel="alternate" href="https://buaaer-xing.github.io/docs/paper_notes/HYCOM/HYCOM v2.0 User Manual/阅读笔记" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://YOUR_APP_ID-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="BUAAer-xing Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="BUAAer-xing Blog Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="BUAAer-xing Blog" href="/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.36ce3aab.css">
<script src="/assets/js/runtime~main.6b4dc616.js" defer="defer"></script>
<script src="/assets/js/main.3bd1f484.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/icon.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/icon.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Home</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/paper-notes-intro">论文笔记</a><a class="navbar__item navbar__link" href="/docs/week_report/week_report_intro">周报汇总</a><a class="navbar__item navbar__link" href="/docs/blogs-intro">个人博客</a><a class="navbar__item navbar__link" href="/blog">相关内容</a><a class="navbar__item navbar__link" href="/resume">个人简历</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/BUAAer-xing/BUAAer-xing.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/paper-notes-intro">笔记说明</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/paper_notes/HYCOM/HYCOM概述">HYCOM</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/paper_notes/HYCOM/HYCOM概述">HYCOM概述</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/paper_notes/HYCOM/Software Design Description for the HYCOM/论文原件">Software Design Description for the HYCOM</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/paper_notes/HYCOM/HYCOM V2.1 Users guide/论文原件">HYCOM V2.1 Users guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/paper_notes/HYCOM/HYCOM v2.0 User Manual/论文原件">HYCOM v2.0 User Manual</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/paper_notes/HYCOM/HYCOM v2.0 User Manual/论文原件">论文原件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/paper_notes/HYCOM/HYCOM v2.0 User Manual/阅读笔记">阅读笔记</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/paper_notes/LU/intro">LU</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/paper_notes/Kernel/intro">Kernel</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/paper_notes/未分类/intro">未分类</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">HYCOM</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">HYCOM v2.0 User Manual</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">阅读笔记</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>阅读笔记</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1fortran-90-version-2001">1.FORTRAN 90 Version 2.0.01<a href="#1fortran-90-version-2001" class="hash-link" aria-label="Direct link to 1.FORTRAN 90 Version 2.0.01" title="Direct link to 1.FORTRAN 90 Version 2.0.01">​</a></h2>
<p>在HYCOM 2.0.01版本的FORTRAN代码中，主程序命名为HYCOM .f。</p>
<p>各种变量的维数是通过符号常量的方式引入的。</p>
<p>相应的参数语句被分组在文件dimensions.h中。</p>
<p>维度声明被分组在common_blocks.h文件中</p>
<p>程序会调用在文件stmt_fns.h中分组的不同语句函数。</p>
<p>HYCOM2.0 的设置总结：</p>
<ol>
<li>引入bathymetry（水下的测量数据）  ，并采取措施将水下区域和陆地区域进行分割。</li>
<li>描述所使用的投影</li>
<li>初始化变量</li>
<li> 迭代计算主要基于十个主要过程子程序，具体在程序中迭代哪个子程序，取决于选择哪个模型选项<!-- -->
<ul>
<li>注意📢：<!-- -->
<ul>
<li>KT模型只控制混合层内的混合，而KPP模型提供从表面到底部的混合。</li>
</ul>
</li>
</ul>
<ol>
<li>the non-slab K-Profile Parameterization model（KPP）<!-- -->
<ul>
<li>subroutine cnuity: continuity equation</li>
<li>subroutine tsadvc: advection equation</li>
<li>subroutine momtum: momentum equations</li>
<li>subroutine barotp: dynamic barotropic mode</li>
<li>subroutine thermf : ocean-atmosphere exchanges</li>
<li>subroutine icloan : ocean-ice exchanges</li>
<li>subroutine mxkpp : k-profile vertical mixing</li>
<li>subroutine hybgen: vertical coordinate remapping.</li>
</ul>
</li>
<li>Kraus-Turner (KT) model<!-- -->
<ul>
<li>subroutine cnuity: continuity equation</li>
<li>subroutine tsadvc: advection equation</li>
<li>subroutine momtum: momentum equations</li>
<li>subroutine barotp: dynamic barotropic mode</li>
<li>subroutine thermf : ocean-atmosphere exchanges</li>
<li>subroutine icloan : ocean-ice exchange</li>
<li>subroutine mxkrta or mxkrtb: bulk surface mixed layer</li>
<li>subroutine convch: vertical cvection</li>
<li>subroutine diapf1 or diapf2: diapycnal mixing (explicit, implicit)</li>
<li>subroutine hybgen: vertical coordinate remapping.</li>
</ul>
</li>
<li>HYCOM run in MICOM 的兼容模式<!-- -->
<ul>
<li>subroutine cnuity: continuity equation</li>
<li>subroutine tsadvc: advection equation</li>
<li>subroutine momtum: momentum equations</li>
<li>subroutine barotp: dynamic barotropic mode</li>
<li>subroutine thermf : ocean-atmosphere exchanges</li>
<li>subroutine icloan : ocean-ice exchanges</li>
<li>subroutine mxkrtm : bulk surface mixed layer</li>
<li>subroutine convcm: vertical convection</li>
<li>subroutine diapf3: diapycnal mixing (explicit MICOM mode).</li>
</ul>
</li>
</ol>
</li>
<li>每次迭代，输出文本文件和图像文件以及一次对照测试数据。</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="声明">声明<a href="#声明" class="hash-link" aria-label="Direct link to 声明" title="Direct link to 声明">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="符号常量">符号常量<a href="#符号常量" class="hash-link" aria-label="Direct link to 符号常量" title="Direct link to 符号常量">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="状态变量和辅助变量">状态变量和辅助变量<a href="#状态变量和辅助变量" class="hash-link" aria-label="Direct link to 状态变量和辅助变量" title="Direct link to 状态变量和辅助变量">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="作业">作业<a href="#作业" class="hash-link" aria-label="Direct link to 作业" title="Direct link to 作业">​</a></h4>
<p>所有参数由是按照数据块进行存放的，由子程序进行初始化，该初始化语句放在<code>blkdat.f</code>文件中。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="初始化变量">初始化变量<a href="#初始化变量" class="hash-link" aria-label="Direct link to 初始化变量" title="Direct link to 初始化变量">​</a></h3>
<p>初始化变量通过两个连续的步骤进行初始化:</p>
<ol>
<li>调用子程序<code>inicon.F</code>，其主要功能是将所有初始值设置为零<!-- -->
<ul>
<li>在此步骤中，还计算了静止状态下模式海洋的Montgomery势和位涡量。</li>
</ul>
</li>
<li>读取前一次运行的数据</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="运行hycom">运行HYCOM<a href="#运行hycom" class="hash-link" aria-label="Direct link to 运行HYCOM" title="Direct link to 运行HYCOM">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="makefile">Makefile<a href="#makefile" class="hash-link" aria-label="Direct link to Makefile" title="Direct link to Makefile">​</a></h4>
<p><strong>make的过程由脚本<code>make.com</code>进行自动执行</strong></p>
<p>makefile的源代码在/config目录下面，配置文件是：<code>$(ARCH)_$(TYPE)</code></p>
<p>所有的Makefiles源文件都来自<code>config/$(ARCH)_$(TYPE)</code>，其中ARCH精确定义了要针对哪种机器架构进行目标定位，而TYPE则是并行化策略（one, omp, mpi, ompi, mpisr, shmem）。</p>
<p>比如，在HYCOM v2.3版本中的脚本文件为：</p>
<p>抱歉，我误解了您的要求。以下是原始内容的Markdown表格形式：</p>
<table><thead><tr><th style="text-align:center">名称</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:center">hpe-intel-relo_mpi</td><td style="text-align:left">HPE SGI, MPI (mpt), Intel Compiler</td></tr><tr><td style="text-align:center">hpe-intel-relo_ompi</td><td style="text-align:left">HPE SGI, MPI+OpenMP (mpt), Intel Compiler</td></tr><tr><td style="text-align:center">hpe-intel-relo_one</td><td style="text-align:left">HPE SGI, single processor, Intel Compiler</td></tr><tr><td style="text-align:center">intelGF-impi-sm-relo_mpi</td><td style="text-align:left">IBM iDATAPlex, GNU Fortran and Intel MPI</td></tr><tr><td style="text-align:center">intelsse-impi-sm-relo_mpi</td><td style="text-align:left">IBM iDATAPlex, Intel Fortran and Intel MPI</td></tr><tr><td style="text-align:center">intelsse-impi-sm-relo_omp</td><td style="text-align:left">IBM iDATAPlex, Intel Fortran, OpenMP</td></tr><tr><td style="text-align:center">intelsse-impi-sm-relo_one</td><td style="text-align:left">IBM iDATAPlex, Intel Fortran, single processor</td></tr><tr><td style="text-align:center">intelsse-pe-sm-relo_mpi</td><td style="text-align:left">IBM iDATAPlex, Intel Fortran and IBM MPI</td></tr><tr><td style="text-align:center">xc40-gnu-relo_mpi</td><td style="text-align:left">Cray XC40, MPI, GNU Fortran</td></tr><tr><td style="text-align:center">xc40-gnu-relo_omp</td><td style="text-align:left">Cray XC40, OpenMP, GNU Fortran</td></tr><tr><td style="text-align:center">xc40-gnu-relo_one</td><td style="text-align:left">Cray XC40, single processor, GNU Fortran</td></tr><tr><td style="text-align:center">xc40-intel-relo_cesmb</td><td style="text-align:left">Cray XC40, CESMBETA, Intel Compiler</td></tr><tr><td style="text-align:center">xc40-intel-relo_cice</td><td style="text-align:left">Cray XC40, HYCOM+CICE using ESMF4, Intel Compiler</td></tr><tr><td style="text-align:center">xc40-intel-relo_mpi</td><td style="text-align:left">Cray XC40, MPI, Intel Compiler</td></tr><tr><td style="text-align:center">xc40-intel-relo_ompi</td><td style="text-align:left">Cray XC40, MPI+OpenMP, Intel Compiler</td></tr><tr><td style="text-align:center">xc40-intel-relo_one</td><td style="text-align:left">Cray XC40, single processor, Intel Compiler</td></tr><tr><td style="text-align:center">xc40-pgi-relo_mpi</td><td style="text-align:left">Cray XC40, MPI, Portland Group Compiler</td></tr></tbody></table>
<p>脚本Make.com应该由用户编辑，以便为机器适当地定义$(ARCH)。 （在HYCOMv2.3中，脚本的名称为：Make.csh）</p>
<p>环境变量列表必须在每个配置文件中定义: 比如fortran的编译器等。</p>
<p>比如：在hpe-intel-relo_one中，配置如下：</p>
<p><img decoding="async" loading="lazy" src="https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230802162751.png" alt="image.png" class="img_ev3q"></p>
<p>还要对其指定规则，如下所示：</p>
<p><img decoding="async" loading="lazy" src="https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230802162847.png" alt="image.png|center|400" class="img_ev3q"></p>
<p>一旦Make.com被编辑完成，可执行文件将由以下命令创建:<code>./Make.com &gt;&amp; Mae.log</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="打印详细测试的点">打印详细测试的点<a href="#打印详细测试的点" class="hash-link" aria-label="Direct link to 打印详细测试的点" title="Direct link to 打印详细测试的点">  ​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="配置hycom">配置HYCOM<a href="#配置hycom" class="hash-link" aria-label="Direct link to 配置HYCOM" title="Direct link to 配置HYCOM">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="实现">实现<a href="#实现" class="hash-link" aria-label="Direct link to 实现" title="Direct link to 实现">​</a></h4>
<p>HYCOM程序模式区域的几何结构存储在<code>dimensions.h</code>文件当中。</p>
<p>水平范围由两个参数 idm 和 jdm 定义。</p>
<p>利用参数ms可以指定岛屿和大陆的位置</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="projection">projection<a href="#projection" class="hash-link" aria-label="Direct link to projection" title="Direct link to projection">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="bathmetry">bathmetry<a href="#bathmetry" class="hash-link" aria-label="Direct link to bathmetry" title="Direct link to bathmetry">​</a></h4>
<p>可选的泊松求解器需要沿对角线的分段边界。</p>
<p>为了在整个域上整合方程组，必须为绑定网格的四个点确定分段的行和列边界。要做到这一点，在bigrid.f90。</p>
<p>bigrid：这个子程序为C格网配置中的非规则盆地设置循环范围。变量q、u、v和p分别表示涡度、u-速度、v-速度和质量点。参数&#x27;depth&#x27;是一个盆地深度数组，零值表示陆地。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2连续方程cnuityf">2.连续方程：cnuity.f<a href="#2连续方程cnuityf" class="hash-link" aria-label="Direct link to 2.连续方程：cnuity.f" title="Direct link to 2.连续方程：cnuity.f">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="formalism-and-numerical-techniques">Formalism and numerical techniques<a href="#formalism-and-numerical-techniques" class="hash-link" aria-label="Direct link to Formalism and numerical techniques" title="Direct link to Formalism and numerical techniques">​</a></h3>
<p>(![[Formalism 和 Numerical methods]])</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fct通量校正输运方案-flux-corrected-transport">FCT(通量校正输运)方案 Flux-Corrected Transport<a href="#fct通量校正输运方案-flux-corrected-transport" class="hash-link" aria-label="Direct link to FCT(通量校正输运)方案 Flux-Corrected Transport" title="Direct link to FCT(通量校正输运)方案 Flux-Corrected Transport">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="interface-diffusion-界面扩散">Interface diffusion 界面扩散<a href="#interface-diffusion-界面扩散" class="hash-link" aria-label="Direct link to Interface diffusion 界面扩散" title="Direct link to Interface diffusion 界面扩散">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-使用">Usage 使用<a href="#usage-使用" class="hash-link" aria-label="Direct link to Usage 使用" title="Direct link to Usage 使用">​</a></h3>
<p>在HYCOM 2.0.01中<strong>斜压连续性方程</strong>的数值计算由子程序完成 （![[斜压连续性方程]]）</p>
<div class="language-fortran codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fortran codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	subroutine nuity(m,n)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="运行顺序">运行顺序<a href="#运行顺序" class="hash-link" aria-label="Direct link to 运行顺序" title="Direct link to 运行顺序">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="流程图">流程图<a href="#流程图" class="hash-link" aria-label="Direct link to 流程图" title="Direct link to 流程图">​</a></h4>
<p><img decoding="async" loading="lazy" src="https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230802180010.png" alt="image.png|center|800" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="变量">变量<a href="#变量" class="hash-link" aria-label="Direct link to 变量" title="Direct link to 变量">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="变量在公式中和在程序中的一一对应">变量在公式中和在程序中的一一对应<a href="#变量在公式中和在程序中的一一对应" class="hash-link" aria-label="Direct link to 变量在公式中和在程序中的一一对应" title="Direct link to 变量在公式中和在程序中的一一对应">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="局部变量的含义">局部变量的含义<a href="#局部变量的含义" class="hash-link" aria-label="Direct link to 局部变量的含义" title="Direct link to 局部变量的含义">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="程序">程序<a href="#程序" class="hash-link" aria-label="Direct link to 程序" title="Direct link to 程序">​</a></h3>
<div class="language-fortran codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fortran codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	Subroutines cnuity</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3advection-diffusionf">3.Advection-diffusion<!-- -->:tsadvc<!-- -->.f<a href="#3advection-diffusionf" class="hash-link" aria-label="Direct link to 3advection-diffusionf" title="Direct link to 3advection-diffusionf">​</a></h2>
<p>![[Advection-diffusion]]</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="formalism-and-numerical-methods">Formalism and Numerical methods<a href="#formalism-and-numerical-methods" class="hash-link" aria-label="Direct link to Formalism and Numerical methods" title="Direct link to Formalism and Numerical methods">​</a></h3>
<p>![[Formalism 和 Numerical methods]]</p>
<p>HYCOM使用与MICOM相同的水平平流和扩散基本算法。</p>
<ul>
<li>当HYCOM以等流垂直坐标(MICOM模式)运行时，以与MICOM相同的方式进行水平平流/扩散。<!-- -->
<ul>
<li><strong>温度和盐度在第一层进行平流和扩散</strong>。只有<strong>盐度在更深的层中平流和扩散</strong>，从状态方程中诊断温度以保持这些层中的恒定密度。</li>
</ul>
</li>
<li>当HYCOM在混合垂直坐标下运行时，用户可以<strong>选择温度和盐度是否在用户声明为混合层的上层<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mrow><mi>h</mi><mi>y</mi><mi>b</mi></mrow></msub></mrow><annotation encoding="application/x-tex">n_{hyb}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mord mathnormal mtight" style="margin-right:0.03588em">y</span><span class="mord mathnormal mtight">b</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span>层内平流和扩散</strong>。<!-- -->
<ul>
<li>之所以包含此选项，是因为当温度和盐度同时平流和扩散时，布线的影响可能导致混合坐标算法调整垂直坐标时出现问题，特别是如果用户选择在移动的垂直坐标上同时通量温度和盐度(参见第9节)。</li>
<li>当盐度仅平流/扩散时，这些问题不会出现，但权衡的是温度不再守恒。在低分辨率的大西洋气候模拟中，温度的不守恒对模拟场的影响并不大。</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="maintaining-the-positivity-of-thickness">Maintaining the positivity of thickness<a href="#maintaining-the-positivity-of-thickness" class="hash-link" aria-label="Direct link to Maintaining the positivity of thickness" title="Direct link to Maintaining the positivity of thickness">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="treatment-of-the-tendency-term-趋势项的处理">Treatment of the tendency term 趋势项的处理<a href="#treatment-of-the-tendency-term-趋势项的处理" class="hash-link" aria-label="Direct link to Treatment of the tendency term 趋势项的处理" title="Direct link to Treatment of the tendency term 趋势项的处理">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="treatment-of-the-diffusion-term-扩散项的处理">Treatment of the diffusion term 扩散项的处理<a href="#treatment-of-the-diffusion-term-扩散项的处理" class="hash-link" aria-label="Direct link to Treatment of the diffusion term 扩散项的处理" title="Direct link to Treatment of the diffusion term 扩散项的处理">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="filtering-过滤">Filtering 过滤<a href="#filtering-过滤" class="hash-link" aria-label="Direct link to Filtering 过滤" title="Direct link to Filtering 过滤">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-使用-1">Usage 使用<a href="#usage-使用-1" class="hash-link" aria-label="Direct link to Usage 使用" title="Direct link to Usage 使用">​</a></h3>
<p>在HYCOM 2.0.01代码中，通过子程序</p>
<div class="language-fortran codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fortran codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">subroutine tsadvc (m,n)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>实现了<strong>热量和盐度的平流-扩散水平方程的数值计算</strong>。</p>
<p>对于混合层，处理的变量是由变量<code>thmix(i,j,n)</code>表示的比容和<code>saln(i,j,1)</code>表示的盐度。</p>
<p>注意📢：在hycom2.3中，该子程序变为了模块 <code>mod_tsadvc.f90</code> 在其它程序中进行引用使用。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="运行顺序-1">运行顺序<a href="#运行顺序-1" class="hash-link" aria-label="Direct link to 运行顺序" title="Direct link to 运行顺序">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="流程图-1">流程图<a href="#流程图-1" class="hash-link" aria-label="Direct link to 流程图" title="Direct link to 流程图">​</a></h4>
<p><img decoding="async" loading="lazy" src="https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230802183053.png" alt="image.png|center|600" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="变量-1">变量<a href="#变量-1" class="hash-link" aria-label="Direct link to 变量" title="Direct link to 变量">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="变量在公式中和在程序中的一一对应-1">变量在公式中和在程序中的一一对应<a href="#变量在公式中和在程序中的一一对应-1" class="hash-link" aria-label="Direct link to 变量在公式中和在程序中的一一对应" title="Direct link to 变量在公式中和在程序中的一一对应">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="局部变量的含义-1">局部变量的含义<a href="#局部变量的含义-1" class="hash-link" aria-label="Direct link to 局部变量的含义" title="Direct link to 局部变量的含义">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="程序-1">程序<a href="#程序-1" class="hash-link" aria-label="Direct link to 程序" title="Direct link to 程序">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-smolarkiewicz-mpdata">The Smolarkiewicz MPDATA<a href="#the-smolarkiewicz-mpdata" class="hash-link" aria-label="Direct link to The Smolarkiewicz MPDATA" title="Direct link to The Smolarkiewicz MPDATA">​</a></h3>
<p>(![[The Smolarkiewicz MPDATA]])</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="formalism-数学形式">Formalism 数学形式<a href="#formalism-数学形式" class="hash-link" aria-label="Direct link to Formalism 数学形式" title="Direct link to Formalism 数学形式">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="usage-使用-2">Usage 使用<a href="#usage-使用-2" class="hash-link" aria-label="Direct link to Usage 使用" title="Direct link to Usage 使用">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="执行顺序">执行顺序<a href="#执行顺序" class="hash-link" aria-label="Direct link to 执行顺序" title="Direct link to 执行顺序">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="流程图-2">流程图<a href="#流程图-2" class="hash-link" aria-label="Direct link to 流程图" title="Direct link to 流程图">​</a></h4>
<p><img decoding="async" loading="lazy" src="https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230802204245.png" alt="image.png|center|800" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="变量-2">变量<a href="#变量-2" class="hash-link" aria-label="Direct link to 变量" title="Direct link to 变量">​</a></h4>
<p>数学表达式中的变量和程序代码中的变量相对应</p>
<p>局部变量</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4动量方程momtumf">4.动量方程：momtum.f<a href="#4动量方程momtumf" class="hash-link" aria-label="Direct link to 4.动量方程：momtum.f" title="Direct link to 4.动量方程：momtum.f">​</a></h2>
<p>在HYCOM2.3版本中，已经变成<code>mod_momtum.f90</code>文件。</p>
<p>在该程序  中，计算动量方程有以下驱动项：（![[forcing terms]]）</p>
<ol>
<li>the Montgomery potential</li>
<li>the surface wind effects （地面风效应）</li>
<li>the bottom drag</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="forcing-驱动项">Forcing 驱动项<a href="#forcing-驱动项" class="hash-link" aria-label="Direct link to Forcing 驱动项" title="Direct link to Forcing 驱动项">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-montgomery-potential">The Montgomery potential<a href="#the-montgomery-potential" class="hash-link" aria-label="Direct link to The Montgomery potential" title="Direct link to The Montgomery potential">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-bottom-drag">The bottom drag<a href="#the-bottom-drag" class="hash-link" aria-label="Direct link to The bottom drag" title="Direct link to The bottom drag">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="influence-of-the-wind">Influence of the wind<a href="#influence-of-the-wind" class="hash-link" aria-label="Direct link to Influence of the wind" title="Direct link to Influence of the wind">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="baroclinic-system-斜压系统">Baroclinic System 斜压系统<a href="#baroclinic-system-斜压系统" class="hash-link" aria-label="Direct link to Baroclinic System 斜压系统" title="Direct link to Baroclinic System 斜压系统">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="numerical-scheme-数值方案">Numerical scheme 数值方案<a href="#numerical-scheme-数值方案" class="hash-link" aria-label="Direct link to Numerical scheme 数值方案" title="Direct link to Numerical scheme 数值方案">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="turbulent-viscosity-湍流粘度">Turbulent viscosity 湍流粘度<a href="#turbulent-viscosity-湍流粘度" class="hash-link" aria-label="Direct link to Turbulent viscosity 湍流粘度" title="Direct link to Turbulent viscosity 湍流粘度">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="turbulent-momentum-flux-湍流动量通量">Turbulent momentum flux 湍流动量通量<a href="#turbulent-momentum-flux-湍流动量通量" class="hash-link" aria-label="Direct link to Turbulent momentum flux 湍流动量通量" title="Direct link to Turbulent momentum flux 湍流动量通量">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="intersection-with-the-bathymetry">Intersection with the bathymetry<a href="#intersection-with-the-bathymetry" class="hash-link" aria-label="Direct link to Intersection with the bathymetry" title="Direct link to Intersection with the bathymetry">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="boundary-conditions-边界条件">Boundary conditions 边界条件<a href="#boundary-conditions-边界条件" class="hash-link" aria-label="Direct link to Boundary conditions 边界条件" title="Direct link to Boundary conditions 边界条件">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="vorticity-涡度">Vorticity 涡度<a href="#vorticity-涡度" class="hash-link" aria-label="Direct link to Vorticity 涡度" title="Direct link to Vorticity 涡度">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-使用-3">Usage 使用<a href="#usage-使用-3" class="hash-link" aria-label="Direct link to Usage 使用" title="Direct link to Usage 使用">​</a></h3>
<div class="language-fortran codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fortran codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">subroutine momtum(m,n)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="执行顺序-1">执行顺序<a href="#执行顺序-1" class="hash-link" aria-label="Direct link to 执行顺序" title="Direct link to 执行顺序">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="流程图-3">流程图<a href="#流程图-3" class="hash-link" aria-label="Direct link to 流程图" title="Direct link to 流程图">​</a></h4>
<p>动量方程中驱动项的处理顺序</p>
<p><img decoding="async" loading="lazy" src="https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230802215226.png" alt="image.png|center|1000" class="img_ev3q"></p>
<p>动量方程的处理顺序</p>
<p><img decoding="async" loading="lazy" src="https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230802215359.png" alt="image.png|center|1000" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="变量-3">变量<a href="#变量-3" class="hash-link" aria-label="Direct link to 变量" title="Direct link to 变量">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="公式中变量和程序中变量对应关系">公式中变量和程序中变量对应关系<a href="#公式中变量和程序中变量对应关系" class="hash-link" aria-label="Direct link to 公式中变量和程序中变量对应关系" title="Direct link to 公式中变量和程序中变量对应关系">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="局部变量的解释">局部变量的解释<a href="#局部变量的解释" class="hash-link" aria-label="Direct link to 局部变量的解释" title="Direct link to 局部变量的解释">​</a></h4>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5正压模态f">5.正压模态<!-- -->:barotp<!-- -->.f<a href="#5正压模态f" class="hash-link" aria-label="Direct link to 5正压模态f" title="Direct link to 5正压模态f">​</a></h2>
<p>（![[正压和斜压（Barotropic和Baroclinic）]]）</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="formalism-and-numerical-techniques-1">Formalism and numerical techniques<a href="#formalism-and-numerical-techniques-1" class="hash-link" aria-label="Direct link to Formalism and numerical techniques" title="Direct link to Formalism and numerical techniques">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rescaling-of-variables-重新缩放变量">Rescaling of variables 重新缩放变量<a href="#rescaling-of-variables-重新缩放变量" class="hash-link" aria-label="Direct link to Rescaling of variables 重新缩放变量" title="Direct link to Rescaling of variables 重新缩放变量">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rearrangement-of-the-velocity-profile-重新排列速度剖面">Rearrangement of the velocity profile 重新排列速度剖面<a href="#rearrangement-of-the-velocity-profile-重新排列速度剖面" class="hash-link" aria-label="Direct link to Rearrangement of the velocity profile 重新排列速度剖面" title="Direct link to Rearrangement of the velocity profile 重新排列速度剖面">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="filtering-过滤-1">Filtering 过滤<a href="#filtering-过滤-1" class="hash-link" aria-label="Direct link to Filtering 过滤" title="Direct link to Filtering 过滤">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="continuity-equation-连续方程">Continuity equation 连续方程<a href="#continuity-equation-连续方程" class="hash-link" aria-label="Direct link to Continuity equation 连续方程" title="Direct link to Continuity equation 连续 方程">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="equations-of-motion-运动方程">Equations of motion 运动方程<a href="#equations-of-motion-运动方程" class="hash-link" aria-label="Direct link to Equations of motion 运动方程" title="Direct link to Equations of motion 运动方程">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-使用-4">Usage 使用<a href="#usage-使用-4" class="hash-link" aria-label="Direct link to Usage 使用" title="Direct link to Usage 使用">​</a></h3>
<p>在HYCOMv2.3中，源文件变为<code>mod_barotp.f90</code>。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="运行顺序-2">运行顺序<a href="#运行顺序-2" class="hash-link" aria-label="Direct link to 运行顺序" title="Direct link to 运行顺序">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="流程图-4">流程图<a href="#流程图-4" class="hash-link" aria-label="Direct link to 流程图" title="Direct link to 流程图">​</a></h4>
<p><img decoding="async" loading="lazy" src="https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230802232032.png" alt="image.png|center|800" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="变量-4">变量<a href="#变量-4" class="hash-link" aria-label="Direct link to 变量" title="Direct link to 变量">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="公式与程序对应">公式与程序对应<a href="#公式与程序对应" class="hash-link" aria-label="Direct link to 公式与程序对应" title="Direct link to 公式与程序对应">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="程序内解释">程序内解释<a href="#程序内解释" class="hash-link" aria-label="Direct link to 程序内解释" title="Direct link to 程序内解释">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="程序-2">程序<a href="#程序-2" class="hash-link" aria-label="Direct link to 程序" title="Direct link to 程序">​</a></h3>
<div class="language-fortran codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fortran codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">subroutines barotp</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="6ocean-atmosphere-exchanges--thermff">6.Ocean-atmosphere exchanges : thermf.f<a href="#6ocean-atmosphere-exchanges--thermff" class="hash-link" aria-label="Direct link to 6.Ocean-atmosphere exchanges : thermf.f" title="Direct link to 6.Ocean-atmosphere exchanges : thermf.f">​</a></h2>
<p>考虑到海洋和大气之间的交换，可以分为三种类型：</p>
<ol>
<li><strong>辐射交换R</strong>：平衡海洋表面所接收的太阳辐射和辐射出去的热量。</li>
<li><strong>湍流热传递</strong>：<!-- -->
<ul>
<li>潜热传递，即海水蒸发产生的热量；</li>
<li>感热传递H，当海洋表面温度和空气温度之间存在显著差异时，通过<strong>对流</strong>传递热量。</li>
</ul>
</li>
<li><strong>机械能传递</strong>：主要是风的影响。</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="formalism-and-numerical-techniques-2">Formalism and numerical techniques<a href="#formalism-and-numerical-techniques-2" class="hash-link" aria-label="Direct link to Formalism and numerical techniques" title="Direct link to Formalism and numerical techniques">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="热平衡">热平衡<a href="#热平衡" class="hash-link" aria-label="Direct link to 热平衡" title="Direct link to 热平衡">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="机械能传递">机械能传递<a href="#机械能传递" class="hash-link" aria-label="Direct link to 机械能传递" title="Direct link to 机械能传递">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="thermal-forcing-at-sidewalls-侧壁的热驱动">Thermal forcing at sidewalls （侧壁的热驱动）<a href="#thermal-forcing-at-sidewalls-侧壁的热驱动" class="hash-link" aria-label="Direct link to Thermal forcing at sidewalls （侧壁的热驱动）" title="Direct link to Thermal forcing at sidewalls （侧壁的热驱动）">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="relaxation-to-sst-andor-sss-弛豫海表温度和盐度">Relaxation to SST and/or SSS 弛豫海表温度和盐度<a href="#relaxation-to-sst-andor-sss-弛豫海表温度和盐度" class="hash-link" aria-label="Direct link to Relaxation to SST and/or SSS 弛豫海表温度和盐度" title="Direct link to Relaxation to SST and/or SSS 弛豫海表温度和盐度">​</a></h4>
<p>对海表温度和/或海表盐度的弛豫是指在气候模型或海洋模型中，通过对海表温度（SST）和/或海表盐度（SSS）施加弛豫过程来调整模拟结果。</p>
<p>在模拟过程中，海表温度和盐度是重要的初始条件和边界条件。然而，由于模型的不完善或初始数据的不准确性，模拟结果可能与观测数据存在差异。为了使模拟结果更接近观测数据，可以通过弛豫过程来调整海表温度和盐度。</p>
<p>弛豫过程是一种逐渐调整模型中的变量，使其趋向于目标值的方法。在这种情况 下，通过对海表温度和/或盐度施加弛豫，模型会逐渐调整模拟结果，使其接近观测数据中的海表温度和盐度。这有助于提高模型的准确性和可靠性，并使其更好地模拟真实的海洋和气候过程。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="alternative-bulk-parameterizations-of-air-sea-fluxes">Alternative bulk parameterizations of air-sea fluxes<a href="#alternative-bulk-parameterizations-of-air-sea-fluxes" class="hash-link" aria-label="Direct link to Alternative bulk parameterizations of air-sea fluxes" title="Direct link to Alternative bulk parameterizations of air-sea fluxes">​</a></h4>
<p>空-海通量的替代性整体参数化指的是用于计算大气和海洋之间传输的热量、湿度和动量等通量的替代方法或模型。</p>
<p>在气候模型和海洋模型中，为了模拟和预测大气和海洋之间的交换过程，需要对空-海通量进行参数化。</p>
<p>传统的整体参数化方法通常基于Bulk formula，即使用一组简化的公式来估计热量、湿度和动量等通量。然而，这些传统的参数化方法可能存在一些局限性，如对特定条件下的不准确性或适用性的限制。</p>
<p>因此，研究人员开发了一些替代性的整体参数化方法，以改进对空-海通量的估计。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-使用-5">Usage 使用<a href="#usage-使用-5" class="hash-link" aria-label="Direct link to Usage 使用" title="Direct link to Usage 使用">​</a></h3>
<div class="language-fortran codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fortran codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">	subroutines thermf (m,n)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>在HYCOM v2.3中以文件<code>thermf.f90</code> 出现。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="运行顺序-3">运行顺序<a href="#运行顺序-3" class="hash-link" aria-label="Direct link to 运行顺序" title="Direct link to 运行顺序">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="流程图-5">流程图<a href="#流程图-5" class="hash-link" aria-label="Direct link to 流程图" title="Direct link to 流程图">​</a></h3>
<p><img decoding="async" loading="lazy" src="https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230802234125.png" alt="image.png|center|800" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="变量-5">变量<a href="#变量-5" class="hash-link" aria-label="Direct link to 变量" title="Direct link to 变量">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="公式与程序对应-1">公式与程序对应<a href="#公式与程序对应-1" class="hash-link" aria-label="Direct link to 公式与程序对应" title="Direct link to 公式与程序对应">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="局部变量">局部变量<a href="#局部变量" class="hash-link" aria-label="Direct link to 局部变量" title="Direct link to 局部变量">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="程序-3">程序<a href="#程序-3" class="hash-link" aria-label="Direct link to 程序" title="Direct link to   程序">​</a></h3>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="7energy-loan-sea-ice-model--icloanf">7.Energy Loan Sea Ice Model ： icloan.f<a href="#7energy-loan-sea-ice-model--icloanf" class="hash-link" aria-label="Direct link to 7.Energy Loan Sea Ice Model ： icloan.f" title="Direct link to 7.Energy Loan Sea Ice Model ： icloan.f">​</a></h2>
<p>（![[海冰热量贷款模型（Energy Loan Sea Ice Model）]]）</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="formalism-and-numerical-techniques-3">Formalism and numerical techniques<a href="#formalism-and-numerical-techniques-3" class="hash-link" aria-label="Direct link to Formalism and numerical techniques" title="Direct link to Formalism and numerical techniques">​</a></h3>
<p>在HYCOM中，开发了一个能量贷款海冰模型，以一致而简单的方式管理水相变化的能量学：</p>
<ol>
<li>通过海冰形成和融化使得接近冰点的海洋温度稳定</li>
<li>海冰对海洋-大气能量通量的影响</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="surface-temperature-flux">Surface temperature flux<a href="#surface-temperature-flux" class="hash-link" aria-label="Direct link to Surface temperature flux" title="Direct link to Surface temperature flux">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-使用-6">Usage 使用<a href="#usage-使用-6" class="hash-link" aria-label="Direct link to Usage 使用" title="Direct link to Usage 使用">​</a></h3>
<p>在HYCOM 2.3 版本中，文件为：<code>icload.f90</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="运行顺序-4">运行顺序<a href="#运行顺序-4" class="hash-link" aria-label="Direct link to 运行顺序" title="Direct link to 运行顺序">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="流程图-6">流程图<a href="#流程图-6" class="hash-link" aria-label="Direct link to 流程图" title="Direct link to 流程图">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="变量-6">变  量<a href="#变量-6" class="hash-link" aria-label="Direct link to 变量" title="Direct link to 变量">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="公式与程序对应-2">公式与程序对应<a href="#公式与程序对应-2" class="hash-link" aria-label="Direct link to 公式与程序对应" title="Direct link to 公式与程序对应">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="程序中变量说明">程序中变量说明<a href="#程序中变量说明" class="hash-link" aria-label="Direct link to 程序中变量说明" title="Direct link to 程序中变量说明">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="程序-4">程序<a href="#程序-4" class="hash-link" aria-label="Direct link to 程序" title="Direct link to 程序">​</a></h3>
<div class="language-fortran codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fortran codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> Subroutine icloan</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="8kpp-vertical-mixing--mxkppf">8.KPP Vertical Mixing : mxkpp.f<a href="#8kpp-vertical-mixing--mxkppf" class="hash-link" aria-label="Direct link to 8.KPP Vertical Mixing : mxkpp.f" title="Direct link to 8.KPP Vertical Mixing : mxkpp.f">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="formalism-and-numerical-techniques-4">Formalism and numerical techniques<a href="#formalism-and-numerical-techniques-4" class="hash-link" aria-label="Direct link to Formalism and numerical techniques" title="Direct link to Formalism and numerical techniques">​</a></h3>
<p>K-Profile Parameterization（KPP）是HYCOM中包含的第一个非板块混合层模型。</p>
<p>KPP模型提供了从表面到底部的混合，将大尺度表面边界层的扩散/黏度剖面与内部海洋的弱垂向扩散/黏度剖面平滑匹配。该模型具有许多优点。它在相对粗糙且间距不均匀的垂直网格上工作。</p>
<p>它比其他常用混合方案更多地参数化了物理过程的影响。</p>
<ul>
<li>在海洋内部，背景内波破碎、剪切不稳定混合和双扩散（盐指和扩散不稳定性）的贡献被参数化。</li>
<li>在表面边界层中，风驱动混合、表面浮力通量和对流不稳定性的影响被参数化。</li>
</ul>
<p>KPP算法还参数化了T和S的非局部混合影响，从而允许逆梯度通量的发展。</p>
<p>KPP模型是半隐式的，<strong>需要多次迭代</strong>。</p>
<ul>
<li>在第一次迭代中，从模型变量的初始剖面计算出模型界面处的扩散/黏度系数的垂直剖面。然后，通过在每个网格点解一维垂直扩散方程，将模型变量进行混合。</li>
<li>在第二次迭代中，使用混合后的模型变量剖面来估计新的扩散/黏度剖面，然后用这些剖面来混合原始的模型变量剖面。</li>
</ul>
<p>这个过程应该重复，直到混合后的模型变量剖面与前一次迭代得到的混合剖面相差不大。根据HYCOM的测试结果，考虑到每次迭代所需的计算开销，进行两次迭代是合理的。</p>
<p>完整的KPP过程首先应用于(混合了热力学变量和示踪物的)压力网格点。为此， 动量分量在压力网格点上进行水平插值。在压力点完成迭代过程后，通过将压力点处的最终黏度剖面插值到动量点上，然后求解垂直扩散方程，在动量（u和v）点进行混合。</p>
<p>KPP算法不需要在上层密度高于下层时混合相邻层的对流算法。然而，当使用Kraus-Turner混合时，HYCOM会进行对流操作。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="surface-fluxes">Surface fluxes<a href="#surface-fluxes" class="hash-link" aria-label="Direct link to Surface fluxes" title="Direct link to Surface fluxes">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="diapycnal-diffusivity-in-the-ocean-interior-海洋内部的潜流扩散率">DIapycnal diffusivity in the ocean interior 海洋内部的潜流扩散率<a href="#diapycnal-diffusivity-in-the-ocean-interior-海洋内部的潜流扩散率" class="hash-link" aria-label="Direct link to DIapycnal diffusivity in the ocean interior 海洋内部的潜流扩散率" title="Direct link to DIapycnal diffusivity in the ocean interior 海洋内部的潜流扩散率">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="surface-boundary-layer-thickness">Surface boundary layer thickness<a href="#surface-boundary-layer-thickness" class="hash-link" aria-label="Direct link to Surface boundary layer thickness" title="Direct link to Surface boundary layer thickness">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="surface-boundary-layer-diffusivity">Surface boundary layer diffusivity<a href="#surface-boundary-layer-diffusivity" class="hash-link" aria-label="Direct link to Surface boundary layer diffusivity" title="Direct link to Surface boundary layer diffusivity">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="vertical-mixing">Vertical mixing<a href="#vertical-mixing" class="hash-link" aria-label="Direct link to Vertical mixing" title="Direct link to Vertical mixing">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage">Usage<a href="#usage" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">​</a></h3>
<p>在HYCOM2.3中以文件<code>mxkprf.f90</code>存在。 其中初始化在文件<code>inikpp.f90</code>文件中完成。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="执行顺序-2">执行顺序<a href="#执行顺序-2" class="hash-link" aria-label="Direct link to 执行顺序" title="Direct link to 执行顺序">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="流程图-7">流程图<a href="#流程图-7" class="hash-link" aria-label="Direct link to 流程图" title="Direct link to 流程图">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="变量-7">变量<a href="#变量-7" class="hash-link" aria-label="Direct link to 变量" title="Direct link to 变量">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="公式与程序相对应">公式与程序相对应<a href="#公式与程序相对应" class="hash-link" aria-label="Direct link to 公式与程序相对应" title="Direct link to 公式与程序相对应">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="程序中变量说明-1">程序中变量说明<a href="#程序中变量说明-1" class="hash-link" aria-label="Direct link to 程序中变量说明" title="Direct link to 程序中变量说明">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="程序-5">程序<a href="#程序-5" class="hash-link" aria-label="Direct link to 程序" title="Direct link to 程序">​</a></h3>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="9generalized-vertical-coordinates-hybgenf">9.Generalized Vertical Coordinates ：hybgen.f<a href="#9generalized-vertical-coordinates-hybgenf" class="hash-link" aria-label="Direct link to 9.Generalized Vertical Coordinates ：hybgen.f" title="Direct link to 9.Generalized Vertical Coordinates ：hybgen.f">​</a></h2>
<p>(![[Generalized Vertical Coordinates 广义垂直坐标]])</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="formalism-and-numerical-techniques-5">Formalism and numerical techniques<a href="#formalism-and-numerical-techniques-5" class="hash-link" aria-label="Direct link to Formalism and numerical techniques" title="Direct link to Formalism and numerical techniques">​</a></h3>
<p>在HYCOM 2.0.01中实现的广义垂直坐标调整算法<strong>旨在使海洋内部的等密度垂直坐标在近表面混合区域平滑过渡到z坐标，在浅水区域过渡到sigma（地形跟踪）坐标，并在非常浅的水域过渡回水平坐标，以防止层变得过薄</strong>。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="vertical-coordinate-remapping">Vertical coordinate remapping<a href="#vertical-coordinate-remapping" class="hash-link" aria-label="Direct link to Vertical coordinate remapping" title="Direct link to Vertical coordinate remapping">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="adjustment-of-vertical-coordinates-in-shallow-water-regions">Adjustment of vertical coordinates in shallow water regions<a href="#adjustment-of-vertical-coordinates-in-shallow-water-regions" class="hash-link" aria-label="Direct link to Adjustment of vertical coordinates in shallow water regions" title="Direct link to Adjustment of vertical coordinates in shallow water regions">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="adjustment-of-temperature-salinity-density-and-momentum">Adjustment of temperature, salinity, density, and momentum<a href="#adjustment-of-temperature-salinity-density-and-momentum" class="hash-link" aria-label="Direct link to Adjustment of temperature, salinity, density, and momentum" title="Direct link to Adjustment of temperature, salinity, density, and momentum">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="running-hycom-with-isopycnic-vertical-coordinatesmicom-mode">Running HYCOM with isopycnic vertical coordinates(MICOM Mode)<a href="#running-hycom-with-isopycnic-vertical-coordinatesmicom-mode" class="hash-link" aria-label="Direct link to Running HYCOM with isopycnic vertical coordinates(MICOM Mode)" title="Direct link to Running HYCOM with isopycnic vertical coordinates(MICOM Mode)">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-1">Usage<a href="#usage-1" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">​</a></h3>
<p>在HYCOM v2.3中，以文件<code>hybgen.f90</code>的形式存在。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="执行顺序-3">执行顺序<a href="#执行顺序-3" class="hash-link" aria-label="Direct link to 执行顺序" title="Direct link to 执行顺序">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="流程图-8">流程图<a href="#流程图-8" class="hash-link" aria-label="Direct link to 流程图" title="Direct link to 流程图">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="变量-8">变量<a href="#变量-8" class="hash-link" aria-label="Direct link to 变量" title="Direct link to 变量">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="公式和程序对应">公式和程序对应<a href="#公式和程序对应" class="hash-link" aria-label="Direct link to 公式和程序对应" title="Direct link to 公式和程序对应">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="程序中变量说明-2">程序中变量说明<a href="#程序中变量说明-2" class="hash-link" aria-label="Direct link to 程序中变量说明" title="Direct link to 程序中变量说明">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="程序-6">程序<a href="#程序-6" class="hash-link" aria-label="Direct link to 程序" title="Direct link to 程序">​</a></h3>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="10kraus-turner-mixed-layer-model--mxkrtaf-or-mxkrtbf">10.Kraus-Turner Mixed Layer Model : mxkrta.f or mxkrtb.f<a href="#10kraus-turner-mixed-layer-model--mxkrtaf-or-mxkrtbf" class="hash-link" aria-label="Direct link to 10.Kraus-Turner Mixed Layer Model : mxkrta.f or mxkrtb.f" title="Direct link to 10.Kraus-Turner Mixed Layer Model : mxkrta.f or mxkrtb.f">​</a></h2>
<p>（![[Kraus-Turner Mixed Layer Model]]）</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="formalism-and-numerical-techniques-6">Formalism and numerical techniques<a href="#formalism-and-numerical-techniques-6" class="hash-link" aria-label="Direct link to Formalism and numerical techniques" title="Direct link to Formalism and numerical techniques">​</a></h3>
<p>Kraus-Turner混合层是一个垂直均匀的水层，其深度是通过将湍流动能（TKE）方程转化为诊断方程来诊断的，通过将时间相关项设为零来实现；即假设在水柱中TKE的源与汇之间存在平衡。</p>
<p>多年来，通过将最上层模型层指定为非等密度平板层，将该模型纳入MICOM中。</p>
<p>将K-T模型纳入HYCOM中是为了便于与MICOM进行比较，并作为评估新的混合层模型的基准，因为它们被包含在内。由于K-T模型仅控制表面混合层内的混合，用户还必须使用HYCOM中提供的内部斜密度混合算法之一（第11节）。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="full-k-t-model-hybrid-coordinates-with-unmixing">Full K-T model (hybrid coordinates with unmixing)<a href="#full-k-t-model-hybrid-coordinates-with-unmixing" class="hash-link" aria-label="Direct link to Full K-T model (hybrid coordinates with unmixing)" title="Direct link to Full K-T model (hybrid coordinates with unmixing)">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="simplified-k-t-model-hybrid-coordinates-with-unmixing">Simplified K-T model (hybrid coordinates with unmixing)<a href="#simplified-k-t-model-hybrid-coordinates-with-unmixing" class="hash-link" aria-label="Direct link to Simplified K-T model (hybrid coordinates with unmixing)" title="Direct link to Simplified K-T model (hybrid coordinates with unmixing)">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-2">Usage<a href="#usage-2" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">​</a></h3>
<p>在HYCOM2.3中以文件<code>mxkrt.f90</code>的形式存在。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="执行顺序-4">执行顺序<a href="#执行顺序-4" class="hash-link" aria-label="Direct link to 执行顺序" title="Direct link to 执行顺序">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="流程图-9">流程图<a href="#流程图-9" class="hash-link" aria-label="Direct link to 流程图" title="Direct link to 流程图">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="变量-9">变量<a href="#变量-9" class="hash-link" aria-label="Direct link to 变量" title="Direct link to 变量">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="公式与程序对应-3">公式与程序对应<a href="#公式与程序对应-3" class="hash-link" aria-label="Direct link to 公式与程序对应" title="Direct link to 公式与程序对应">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="程序中变量解释">程序中变量解释<a href="#程序中变量解释" class="hash-link" aria-label="Direct link to 程序中变量解释" title="Direct link to 程序中变量解释">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="程序-7">程序<a href="#程序-7" class="hash-link" aria-label="Direct link to 程序" title="Direct link to 程序">​</a></h3>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="11kraus-turner-model---diapycnal-mixing--diapf1f-or-diapf2f">11.Kraus-Turner Model - Diapycnal Mixing : diapf1.f or diapf2.f<a href="#11kraus-turner-model---diapycnal-mixing--diapf1f-or-diapf2f" class="hash-link" aria-label="Direct link to 11.Kraus-Turner Model - Diapycnal Mixing : diapf1.f or diapf2.f" title="Direct link to 11.Kraus-Turner Model - Diapycnal Mixing : diapf1.f or diapf2.f">​</a></h2>
<p>(![[Kraus-Turner Model - Diapycnal Mixing]])</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="formalism-and-numerical-techniques-7">Formalism and numerical techniques<a href="#formalism-and-numerical-techniques-7" class="hash-link" aria-label="Direct link to Formalism and numerical techniques" title="Direct link to Formalism and numerical techniques">​</a></h3>
<p>当使用Kraus-Turner模型运行HYCOM时:</p>
<ul>
<li>可以使用<strong>KPP风格的隐式斜密度混合算法</strong>（在第8.1.2节中的<code>diapf1</code>子程序中概述）来计算斜密度混合。</li>
<li>第二个选项是使用MICOM风格的<strong>显式斜密度混合算法</strong>来计算混合层（hybrid coordinates）的斜密度混合（在下一节中描述的<code>diapf2</code>子程序中）。</li>
</ul>
<p>这些算法可以用于计算和模拟海洋中的垂直混合过程，以更准确地描述海洋中的物理和化学过程。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hybrid-coordinate-explicit-algorithm">Hybrid coordinate explicit algorithm<a href="#hybrid-coordinate-explicit-algorithm" class="hash-link" aria-label="Direct link to Hybrid coordinate explicit algorithm" title="Direct link to Hybrid coordinate explicit algorithm">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-3">Usage<a href="#usage-3" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">​</a></h3>
<p>在HYCOMv2.3中，以文件<code>diapfl.f90</code>的形式存在，其中的子程序有：diapf1、diapf2和diapf3。 ^0d6782</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="执行顺序-5">执行顺序<a href="#执行顺序-5" class="hash-link" aria-label="Direct link to 执行顺序" title="Direct link to 执行顺序">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="流程图-10">流程图<a href="#流程图-10" class="hash-link" aria-label="Direct link to 流程图" title="Direct link to 流程图">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="变量-10">变量<a href="#变量-10" class="hash-link" aria-label="Direct link to 变量" title="Direct link to 变量">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="对应">对应<a href="#对应" class="hash-link" aria-label="Direct link to 对应" title="Direct link to 对应">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="说明">说明<a href="#说明" class="hash-link" aria-label="Direct link to 说明" title="Direct link to 说明">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="子程序">子程序<a href="#子程序" class="hash-link" aria-label="Direct link to 子程序" title="Direct link to 子程序">​</a></h3>
<div class="language-fortran codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fortran codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Subroutine diapf1, diapf1aj, diapf1bj, diapf1aij, diapf1uij, diapf1vij,diapf2, diapf2j</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="12micom-mode---k-t-model-3--mxkrtmf">12.MICOM Mode - K-T Model 3 : mxkrtm.f<a href="#12micom-mode---k-t-model-3--mxkrtmf" class="hash-link" aria-label="Direct link to 12.MICOM Mode - K-T Model 3 : mxkrtm.f" title="Direct link to 12.MICOM Mode - K-T Model 3 : mxkrtm.f">​</a></h2>
<p>（![[K-T Model 3]]）</p>
<p>当使用<strong>等密度垂直坐标</strong>（MICOM模式）运行HYCOM时，模型会自动使用<strong>K-T模型3</strong>，这实质上是嵌入在MICOM 2.8版本中的混合层模型。</p>
<p>在这种模式下，模型会根据K-T模型3来计算和模拟海洋中的混合层过程，以更准确地描述海洋中的垂直混合和物理过程。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="formalism-and-numerical-techniques-8">Formalism and numerical techniques<a href="#formalism-and-numerical-techniques-8" class="hash-link" aria-label="Direct link to Formalism and numerical techniques" title="Direct link to Formalism and numerical techniques">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="internal-energy-and-turbulent-kinetic-energy">Internal energy and turbulent kinetic energy<a href="#internal-energy-and-turbulent-kinetic-energy" class="hash-link" aria-label="Direct link to Internal energy and turbulent kinetic energy" title="Direct link to Internal energy and turbulent kinetic energy">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parametrization-of-turbulent-dissipation">Parametrization of turbulent dissipation<a href="#parametrization-of-turbulent-dissipation" class="hash-link" aria-label="Direct link to Parametrization of turbulent dissipation" title="Direct link to Parametrization of turbulent dissipation">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="a-recent-prediction-model-of-the-mixed-layer">A recent prediction model of the mixed layer<a href="#a-recent-prediction-model-of-the-mixed-layer" class="hash-link" aria-label="Direct link to A recent prediction model of the mixed layer" title="Direct link to A recent prediction model of the mixed layer">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="entrainment-condition">Entrainment condition<a href="#entrainment-condition" class="hash-link" aria-label="Direct link to Entrainment condition" title="Direct link to Entrainment condition">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="constants-and-numerical-parameters">Constants and numerical parameters<a href="#constants-and-numerical-parameters" class="hash-link" aria-label="Direct link to Constants and numerical parameters" title="Direct link to Constants and numerical parameters">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="numerical-techniques">Numerical techniques<a href="#numerical-techniques" class="hash-link" aria-label="Direct link to Numerical techniques" title="Direct link to Numerical techniques">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="entrainment-algorithm">Entrainment algorithm<a href="#entrainment-algorithm" class="hash-link" aria-label="Direct link to Entrainment algorithm" title="Direct link to Entrainment algorithm">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="detrainment-algorithm">Detrainment algorithm<a href="#detrainment-algorithm" class="hash-link" aria-label="Direct link to Detrainment algorithm" title="Direct link to Detrainment algorithm">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-使用-7">Usage 使用<a href="#usage-使用-7" class="hash-link" aria-label="Direct link to Usage 使用" title="Direct link to Usage 使用">​</a></h3>
<p>在HYCOM 2.3 版本中， 文件以<code>mxkrtm.f90</code>的形式出现。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="执行顺序-6">执行顺序<a href="#执行顺序-6" class="hash-link" aria-label="Direct link to 执行顺序" title="Direct link to 执行顺序">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="流程图-11">流程图<a href="#流程图-11" class="hash-link" aria-label="Direct link to 流程图" title="Direct link to 流程图">​</a></h4>
<p><img decoding="async" loading="lazy" src="https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230803233731.png" alt="image.png|center|600" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="变量-11">变量<a href="#变量-11" class="hash-link" aria-label="Direct link to 变量" title="Direct link to 变量">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="程序和公式">程序和公式<a href="#程序和公式" class="hash-link" aria-label="Direct link to 程序和公式" title="Direct link to 程序和公式">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="程序内变量">程序内变量<a href="#程序内变量" class="hash-link" aria-label="Direct link to 程序内变量" title="Direct link to 程序内变量">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="程序-8">程序<a href="#程序-8" class="hash-link" aria-label="Direct link to 程序" title="Direct link to 程序">​</a></h3>
<div class="language-fortran codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fortran codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Functionsccubq, ccubr, ccubqr, ccubs1, ccubs2, ccubrl, ccubim, root, root1, root2, root3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Subroutines mxkrtm, mxkrtmaj, mxkrtmbj</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="13convection---kraus-turner-or-micom-mode--convchf-or-convcm-f">13.Convection - Kraus-Turner or MICOM Mode : convch.f or convcm .f<a href="#13convection---kraus-turner-or-micom-mode--convchf-or-convcm-f" class="hash-link" aria-label="Direct link to 13.Convection - Kraus-Turner or MICOM Mode : convch.f or convcm .f" title="Direct link to 13.Convection - Kraus-Turner or MICOM Mode : convch.f or convcm .f">​</a></h2>
<p>(![[Convection - Kraus-Turner or MICOM Mode]])</p>
<p>当使用<strong>Kraus Turner模型</strong>或在<strong>MICOM兼容模式</strong>下运行HYCOM时，模型会执行对流过程。</p>
<p>混合层特征的变化主要来自两个主要步骤：</p>
<ol>
<li>明确考虑<strong>海洋-大气交换</strong>（参见第12节）；</li>
<li>使用<strong>速度场</strong>进行平流建模（参见第12节）。</li>
</ol>
<p>因此，混合层底部的倒转是可能发生的。第一阶段是可选的。当不考虑辐射交换和热湍流时，风力引起的机械效应始终可以通过表面雷诺张力进行处理（参见第4节）。平流步骤是系统性地使用的。它本身可以产生一个表面倒转。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-使用-8">Usage 使用<a href="#usage-使用-8" class="hash-link" aria-label="Direct link to Usage 使用" title="Direct link to Usage 使用">​</a></h3>
<p>在HYCOM v2.3 中以文件<code>convec.f90</code> 的形式出现。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="执行顺序-7">执行顺序<a href="#执行顺序-7" class="hash-link" aria-label="Direct link to 执行顺序" title="Direct link to 执行顺序">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="流程图-12">流程图<a href="#流程图-12" class="hash-link" aria-label="Direct link to 流程图" title="Direct link to 流程图">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="变量-12">变量<a href="#变量-12" class="hash-link" aria-label="Direct link to 变量" title="Direct link to 变量">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="数学公式和程序">数学公式和程序<a href="#数学公式和  程序" class="hash-link" aria-label="Direct link to 数学公式和程序" title="Direct link to 数学公式和程序">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="程序内变量-1">程序内变量<a href="#程序内变量-1" class="hash-link" aria-label="Direct link to 程序内变量" title="Direct link to 程序内变量">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="程序-9">程序<a href="#程序-9" class="hash-link" aria-label="Direct link to 程序" title="Direct link to 程序">​</a></h3>
<div class="language-fortran codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fortran codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">subroutine convch,convcm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="14micom-mode---diapycnal-mixing--diapf3f">14.MICOM Mode - Diapycnal mixing : diapf3.f<a href="#14micom-mode---diapycnal-mixing--diapf3f" class="hash-link" aria-label="Direct link to 14.MICOM Mode - Diapycnal mixing : diapf3.f" title="Direct link to 14.MICOM Mode - Diapycnal mixing : diapf3.f">​</a></h2>
<p>![[3-HYCOM v2.0 User Manual##^0d6782]]</p>
<p>(![[MICOM Mode - Diapycnal mixing]])</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="formalism-and-numerical-techniques-9">Formalism and numerical techniques<a href="#formalism-and-numerical-techniques-9" class="hash-link" aria-label="Direct link to Formalism and numerical techniques" title="Direct link to Formalism and numerical techniques">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="turbulent-diffusion">Turbulent diffusion<a href="#turbulent-diffusion" class="hash-link" aria-label="Direct link to Turbulent diffusion" title="Direct link to Turbulent diffusion">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="turbulent-heat-flux">Turbulent heat flux<a href="#turbulent-heat-flux" class="hash-link" aria-label="Direct link to Turbulent heat flux" title="Direct link to Turbulent heat flux">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="numerical-implentation">Numerical implentation<a href="#numerical-implentation" class="hash-link" aria-label="Direct link to Numerical implentation" title="Direct link to Numerical implentation">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-使用-9">Usage 使用<a href="#usage-使用-9" class="hash-link" aria-label="Direct link to Usage 使用" title="Direct link to Usage 使用">​</a></h3>
<p>在HYCOMv2.3中，以文件<code>diapfl.f90</code>的形式存在，其中的子程序有：diapf1、diapf2和diapf3。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="执行顺序-8">执行顺序<a href="#执行顺序-8" class="hash-link" aria-label="Direct link to 执行顺序" title="Direct link to 执行顺序">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="流程图-13">流程图<a href="#流程图-13" class="hash-link" aria-label="Direct link to 流程图" title="Direct link to 流程图">​</a></h4>
<p><img decoding="async" loading="lazy" src="https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230804001830.png" alt="image.png|center|800" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="变量-13">变量<a href="#变量-13" class="hash-link" aria-label="Direct link to 变量" title="Direct link to 变量">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="公式与程序">公式与程序<a href="#公式与程序" class="hash-link" aria-label="Direct link to 公式与程序" title="Direct link to 公式与程序">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="程序内变量-2">程序内变量<a href="#程序内变量-2" class="hash-link" aria-label="Direct link to 程序内变量" title="Direct link to 程序内变量">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="程序-10">程序<a href="#程序-10" class="hash-link" aria-label="Direct link to 程序" title="Direct link to 程序">​</a></h3>
<div class="language-fortran codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-fortran codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">subroutine diapf3,diapf3j</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="15calculational-grid">15.Calculational grid<a href="#15calculational-grid" class="hash-link" aria-label="Direct link to 15.Calculational grid" title="Direct link to 15.Calculational grid">​</a></h2>
<p>HYCOM和MICOM都使用“C”网格，但使用不同的水平网格。</p>
<p>在MICOM网格中，正x方向指向南，正y方向指向东。</p>
<p>而HYCOM网格被转换为标准的笛卡尔坐标系，x轴指向东，y轴指向北。</p>
<p>下图展示了HYCOM网格的压力（P）、速度分量（U和V）和涡度（Q）的网格点。</p>
<p>该示例为7x7的压力网格点。其他变量的网格点为8x8。在此情况下，所有场量的维度都是8x8，第八行和第八列对于压力网格点上的变量是未使用的。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="16boundary-conditions-in-hycom">16.Boundary conditions in HYCOM<a href="#16boundary-conditions-in-hycom" class="hash-link" aria-label="Direct link to 16.Boundary conditions in HYCOM" title="Direct link to 16.Boundary conditions in HYCOM">​</a></h2>
<p>HYCOM 2.0.01具有两种边界条件:</p>
<ul>
<li>海绵层牛顿松弛</li>
<li>完全开放海洋边界条件</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="relaxation-boundary-conditions">Relaxation Boundary Conditions<a href="#relaxation-boundary-conditions" class="hash-link" aria-label="Direct link to Relaxation Boundary Conditions" title="Direct link to Relaxation Boundary Conditions">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="open-boundary-conditions">Open Boundary Conditions<a href="#open-boundary-conditions" class="hash-link" aria-label="Direct link to Open Boundary Conditions" title="Direct link to Open Boundary Conditions">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="no-distinction-between-inflow-and-outflow-boundaries">No distinction between inflow and outflow boundaries<a href="#no-distinction-between-inflow-and-outflow-boundaries" class="hash-link" aria-label="Direct link to No distinction between inflow and outflow boundaries" title="Direct link to No distinction between inflow and outflow boundaries">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="well-posed-boundary-conditions">Well-posed boundary conditions<a href="#well-posed-boundary-conditions" class="hash-link" aria-label="Direct link to Well-posed boundary conditions" title="Direct link to Well-posed boundary conditions">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="barotropic-and-baroclinic-velocities">Barotropic and baroclinic velocities<a href="#barotropic-and-baroclinic-velocities" class="hash-link" aria-label="Direct link to Barotropic and baroclinic velocities" title="Direct link to Barotropic and baroclinic velocities">​</a></h4>
<p>Barotropic velocities（等压速度）和baroclinic velocities（斜压速度）是描述海洋水体运动的两种常用速度场类型。</p>
<p>等压速度指的是与深度或密度垂直变化无关的水平速度。换句话说，整个水柱作为一个整体一起运动，速度在深度上没有明显的变化。等压速度通常与大尺度、低频运动相关，如洋流或主要海洋环流。</p>
<p>另一方面，斜压速度描述的是随深度变化而变化的水平速度，这是由于水柱中的密度梯度引起的。这些速度与密度的垂直变化相关，在密度梯度强烈的区域，如锋区或上升和下沉区域，通常会出现斜压速度。斜压速度对于理解海洋中的垂直和水平环流模式非常重要，通常与较小尺度、高频运动相关。</p>
<p>总体而言，等压速度和斜压速度的区分有助于描述不同类型的海洋流动，并理解海洋环流的动力学过程。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="17equation-of-state-and-related-issues">17.Equation of state and Related Issues<a href="#17equation-of-state-and-related-issues" class="hash-link" aria-label="Direct link to 17.Equation of state and Related Issues" title="Direct link to 17.Equation of state and Related Issues">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="equation-of-state">Equation of state<a href="#equation-of-state" class="hash-link" aria-label="Direct link to Equation of state" title="Direct link to Equation of state">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cabbeling">Cabbeling<a href="#cabbeling" class="hash-link" aria-label="Direct link to Cabbeling" title="Direct link to Cabbeling">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="thermobaric-compressiblity">Thermobaric compressiblity<a href="#thermobaric-compressiblity" class="hash-link" aria-label="Direct link to Thermobaric compressiblity" title="Direct link to Thermobaric compressiblity">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-4">Usage<a href="#usage-4" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="执行顺序-9">执行顺序<a href="#执行顺序-9" class="hash-link" aria-label="Direct link to 执行顺序" title="Direct link to 执行顺序">​</a></h4>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="18sub-programs">18.Sub-programs<a href="#18sub-programs" class="hash-link" aria-label="Direct link to 18.Sub-programs" title="Direct link to 18.Sub-programs">​</a></h2>
<p>子程序的含义</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functions">Functions<a href="#functions" class="hash-link" aria-label="Direct link to Functions" title="Direct link to Functions">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="initialization-subroutines">Initialization Subroutines<a href="#initialization-subroutines" class="hash-link" aria-label="Direct link to Initialization Subroutines" title="Direct link to Initialization Subroutines">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="blkdatf">blkdat.f<a href="#blkdatf" class="hash-link" aria-label="Direct link to blkdat.f" title="Direct link to blkdat.f">​</a></h4>
<ul>
<li>blkdat : 初始化公共变量</li>
<li>blkinr：在99号单元读入一个实数</li>
<li>blkini ：在99号单元读入一个整数</li>
<li>blkinl ：在99号单元读入一个逻辑数字</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="iniconf">inicon.f<a href="#iniconf" class="hash-link" aria-label="Direct link to inicon.f" title="Direct link to inicon.f">​</a></h4>
<ul>
<li>inicon：将所有的初始值都设置为0</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="inikppf">inikpp.f<a href="#inikppf" class="hash-link" aria-label="Direct link to inikpp.f" title="Direct link to inikpp.f">​</a></h4>
<ul>
<li>inikpp ：初始化 Large，Mc.Williams，Doney KPP 垂直混合方案。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bathymetry-subroutines">Bathymetry Subroutines<a href="#bathymetry-subroutines" class="hash-link" aria-label="Direct link to Bathymetry Subroutines" title="Direct link to Bathymetry Subroutines">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="bigridf">bigrid.f<a href="#bigridf" class="hash-link" aria-label="Direct link to bigrid.f" title="Direct link to bigrid.f">​</a></h4>
<ul>
<li>
<p>bigrid ：确定边界，用于确定边界网格的四个点。</p>
</li>
<li>
<p>indxi，indxj：确定与陆地/海洋掩码相对应的i/j<strong>循环索引</strong>。</p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="geoparf">geopar.f<a href="#geoparf" class="hash-link" aria-label="Direct link to geopar.f" title="Direct link to geopar.f">​</a></h4>
<ul>
<li>geopar ：设置与地理相关的模型参数。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="main-hycom-subroutines">Main HYCOM Subroutines<a href="#main-hycom-subroutines" class="hash-link" aria-label="Direct link to Main HYCOM Subroutines" title="Direct link to Main HYCOM Subroutines">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="barotpf">barotp.f<a href="#barotpf" class="hash-link" aria-label="Direct link to barotp.f" title="Direct link to barotp.f">​</a></h4>
<ul>
<li>barotp：从斜压时间水平-m推进等压方程至水平-n。 Advance barotropic equations from baroclinic time level -mto level -n-.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="cnuityf">cnuity.f<a href="#cnuityf" class="hash-link" aria-label="Direct link to cnuity.f" title="Direct link to cnuity.f">​</a></h4>
<ul>
<li>cnuity：连续性方程（修正通量输运版本）。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="convecf">convec.f<a href="#convecf" class="hash-link" aria-label="Direct link to convec.f" title="Direct link to convec.f">​</a></h4>
<ul>
<li>convch：对流调整。</li>
<li>convcm：将比混合层水轻的水引入混合层。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="diapflf">diapfl.f<a href="#diapflf" class="hash-link" aria-label="Direct link to diapfl.f" title="Direct link to diapfl.f">​</a></h4>
<ul>
<li>diapf1：KPP风格的隐式内部diapycnal mixing。</li>
<li>diapf1aj：</li>
<li>diapf1bj：</li>
<li>diapf1aij：diapycnal mixing，单个i、j点（部分A）。</li>
<li>diapf1uij：diapycnal mixing，单个i、j点，动量在u网格点。</li>
<li>diapf1vij：diapycnal mixing，单个i、j点，动量在v网格点。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="diapflf-1">diapfl.f<a href="#diapflf-1" class="hash-link" aria-label="Direct link to diapfl.f" title="Direct link to diapfl.f">​</a></h4>
<ul>
<li>
<p>diapf2：MICOM风格的显式内部混合（用于混合坐标）。</p>
</li>
<li>
<p>diapf2j: diapycnal mixing混合，单个j行。</p>
</li>
<li>
<p>diapf3<!-- -->:MICOM<!-- -->风格的显式内部混合（用于等密度坐标）。</p>
</li>
<li>
<p>diapf3j: diapycnal mixing混合，单个j行。</p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hybgenf">hybgen.f<a href="#hybgenf" class="hash-link" aria-label="Direct link to hybgen.f" title="Direct link to hybgen.f">​</a></h4>
<ul>
<li>
<p>hybgen:混合网格生成器。</p>
</li>
<li>
<p>hybgenaj:混合网格生成器，单个j行（部分A）。</p>
</li>
<li>
<p>hybgenbj:混合网格生成器，单个j行（部分B）。</p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="icloanf">icloan.f<a href="#icloanf" class="hash-link" aria-label="Direct link to icloan.f" title="Direct link to icloan.f">​</a></h4>
<ul>
<li>icloan:&quot;能量贷款&quot;冰模型。无平流，无动力学。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="latbdpf">latbdp.f<a href="#latbdpf" class="hash-link" aria-label="Direct link to latbdp.f" title="Direct link to latbdp.f">​</a></h4>
<ul>
<li>latbdp:将边界条件应用于等压流场。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="momtumf">momtum.f<a href="#momtumf" class="hash-link" aria-label="Direct link to momtum.f" title="Direct link to momtum.f">​</a></h4>
<ul>
<li>momtum:动量方程。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="mxkppf">mxkpp.f<a href="#mxkppf" class="hash-link" aria-label="Direct link to mxkpp.f" title="Direct link to mxkpp.f">​</a></h4>
<ul>
<li>mxkpp:大规模、Mc.Williams、Doney KPP垂直扩散。</li>
<li>mxkppaj:计算粘度和扩散性。</li>
<li>mxkppbj:在p点进行最终混合。</li>
<li>mxkppcj:在u、v点进行最终速度混合。</li>
<li>mxkppaij<!-- -->:KPP<!-- -->垂直扩散，单个j行（部分A）。</li>
<li>mxkppbij<!-- -->:KPP<!-- -->垂直扩散，单个j行（部分B）。在p点执行最终的垂直混合。</li>
<li>mxkppcij:</li>
<li>mxkppcijv:</li>
<li>wscale:</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="mxkrtf">mxkrt.f<a href="#mxkrtf" class="hash-link" aria-label="Direct link to mxkrt.f" title="Direct link to mxkrt.f">​</a></h4>
<ul>
<li>mxkrta:</li>
<li>mxkrtaaj:</li>
<li>mxkrtabj:</li>
<li>mxkrtbaj:</li>
<li>mxkrtbbj:</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="mxkrtmf">mxkrtm.f<a href="#mxkrtmf" class="hash-link" aria-label="Direct link to mxkrtm.f" title="Direct link to mxkrtm.f">​</a></h4>
<ul>
<li>mxkrtm:</li>
<li>mxkrtmaj:</li>
<li>mxkrtmbj:</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="thermff">thermf.f<a href="#thermff" class="hash-link" aria-label="Direct link to thermf.f" title="Direct link to thermf.f">​</a></h4>
<ul>
<li>thermf</li>
<li>thermfj</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="tsadvcf">tsadvc.f<a href="#tsadvcf" class="hash-link" aria-label="Direct link to tsadvc.f" title="Direct link to tsadvc.f">​</a></h4>
<ul>
<li>advem</li>
<li>tsadvc</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="atmospheric-forcing-subroutines">Atmospheric Forcing Subroutines<a href="#atmospheric-forcing-subroutines" class="hash-link" aria-label="Direct link to Atmospheric Forcing Subroutines" title="Direct link to Atmospheric Forcing Subroutines">​</a></h3>
<p>大气驱动子程序</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="dpthuvf">dpthuv.f<a href="#dpthuvf" class="hash-link" aria-label="Direct link to dpthuv.f" title="Direct link to dpthuv.f">​</a></h4>
<ul>
<li>dpthuv</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="drudyvf">drudyv.f<a href="#drudyvf" class="hash-link" aria-label="Direct link to drudyv.f" title="Direct link to drudyv.f">​</a></h4>
<ul>
<li>dpudpv</li>
<li>dpudpvi</li>
<li>rdmonth</li>
<li>rdpall</li>
<li>rdpall1</li>
<li>rdforf</li>
<li>rdrlax</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="forfunf">forfun.f<a href="#forfunf" class="hash-link" aria-label="Direct link to forfun.f" title="Direct link to forfun.f">​</a></h4>
<ul>
<li>forday</li>
<li>fortuna</li>
<li>forfunh</li>
<li>forfunr</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="matrix-inversion-subroutines">Matrix Inversion Subroutines<a href="#matrix-inversion-subroutines" class="hash-link" aria-label="Direct link to Matrix Inversion Subroutines" title="Direct link to Matrix Inversion Subroutines">​</a></h3>
<p>矩阵求逆子程序</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="matinvf">matinv.f<a href="#matinvf" class="hash-link" aria-label="Direct link to matinv.f" title="Direct link to matinv.f">​</a></h4>
<ul>
<li>
<p>tridcof</p>
</li>
<li>
<p>tridrhs</p>
</li>
<li>
<p>tridmat</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="communication-subroutines">Communication Subroutines<a href="#communication-subroutines" class="hash-link" aria-label="Direct link to Communication Subroutines" title="Direct link to Communication Subroutines">​</a></h3>
<p>各个模块间进行通信子程序</p>
<table><thead><tr><th>File</th><th>Subroutine</th><th>Description</th></tr></thead><tbody><tr><td>mod_xc_mp.f</td><td>xcaget</td><td>Converts an entire 2-D array from tiled to non-tiled layout.</td></tr><tr><td>mod_xc_mp.f</td><td>xcaput</td><td>Converts an entire 2-D array from non-tiled to tiled layout.</td></tr><tr><td>mod_xc_mp.f</td><td>xceget</td><td>Finds the value of a (ia,ja) on the non-tiled 2-D grid.</td></tr><tr><td>mod_xc_mp.f</td><td>xceput</td><td>Fills a single element in the non-tiled 2-D grid.</td></tr><tr><td>mod_xc_mp.f</td><td>xchalt</td><td>Emergency stops all processes, called by one process.</td></tr><tr><td>mod_xc_mp.f</td><td>xclget</td><td>Extracts a line of elements from the non-tiled 2-D grid.</td></tr><tr><td>mod_xc_mp.f</td><td>xclput</td><td>Fills a line of elements in the non-tiled 2-D grid.</td></tr><tr><td>mod_xc_mp.f</td><td>xemaxr_0</td><td>Replaces a scalar a with its element-wise maximum over all tiles.</td></tr><tr><td>mod_xc_mp.f</td><td>xemaxr_1</td><td>Replaces an array a with its element-wise maximum over all tiles.</td></tr><tr><td>mod_xc_mp.f</td><td>xcminr_0</td><td>Replaces a scalar a with its element-wise minimum over all tiles.</td></tr><tr><td>mod_xc_mp.f</td><td>xeminr_1</td><td>Replaces an array a with its element-wise minimum over all tiles.</td></tr><tr><td>mod_xc_mp.f</td><td>xespmd</td><td>Initializes data structures that identify the tiles.</td></tr><tr><td>mod_xc_mp.f</td><td>xcstop</td><td>Stops all processes, called by all processes.</td></tr><tr><td>mod_xc_mp.f</td><td>Xesum</td><td>Sums a 2-D array, where mask = 1.</td></tr><tr><td>mod_xc_mp.f</td><td>xcsumj</td><td>Row-sum of a 2-D array, where mask = 1, on first processor only.</td></tr><tr><td>mod_xc_mp.f</td><td>xcsync</td><td>Barrier, no processor exits until all arrive (and flush stdout).</td></tr><tr><td>mod_xc_mp.f</td><td>xetbar</td><td>Provides synchronization with processors ipel and ipe2.</td></tr><tr><td>mod_xc_mp.f</td><td>xctilr</td><td>Updates the tile overlap halo of a 3-D real array.</td></tr><tr><td>mod_xc_mp.f</td><td>xetmri</td><td>Initializes timers.</td></tr><tr><td>mod_xc_mp.f</td><td>xctmr0</td><td>Starts timer n.</td></tr><tr><td>mod_xc_mp.f</td><td>xctmri</td><td>Adds time since call to xctim0 to timer n.</td></tr><tr><td>mod_xc_mp.f</td><td>xctmrn</td><td>Registers name of timer n.</td></tr><tr><td>mod_xc_mp.f</td><td>xctmrp</td><td>Prints all active timers</td></tr><tr><td>mod_xc_sm.f</td><td></td><td>This file contains the shared memory version of all the subroutines in mod_xc_mp.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="machine-dependent-io-subroutines">Machine Dependent I/O Subroutines<a href="#machine-dependent-io-subroutines" class="hash-link" aria-label="Direct link to Machine Dependent I/O Subroutines" title="Direct link to Machine Dependent I/O Subroutines">​</a></h3>
<p>机器独立IO子程序</p>
<p><img decoding="async" loading="lazy" src="https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230804020453.png" alt="image.png|center" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pipe-comparison-subroutines">Pipe Comparison Subroutines<a href="#pipe-comparison-subroutines" class="hash-link" aria-label="Direct link to Pipe Comparison Subroutines" title="Direct link to Pipe Comparison Subroutines">​</a></h3>
<p>管道对比子程序</p>
<p><img decoding="async" loading="lazy" src="https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230804020530.png" alt="image.png|center" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="diagnostic-output-subroutines">Diagnostic Output Subroutines<a href="#diagnostic-output-subroutines" class="hash-link" aria-label="Direct link to Diagnostic Output Subroutines" title="Direct link to Diagnostic Output Subroutines">​</a></h3>
<p>诊断输出子程序</p>
<p><img decoding="async" loading="lazy" src="https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230804020547.png" alt="image.png|center" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="plotting-subroutines">Plotting Subroutines<a href="#plotting-subroutines" class="hash-link" aria-label="Direct link to Plotting Subroutines" title="Direct link to Plotting Subroutines">​</a></h3>
<p>绘图子程序</p>
<p><img decoding="async" loading="lazy" src="https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230804020558.png" alt="image.png|center" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/paper_notes/1_HYCOM/03_HYCOM v2.0 User Manual/阅读笔记.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/paper_notes/HYCOM/HYCOM v2.0 User Manual/论文原件"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">论文原件</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/paper_notes/LU/intro"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">说明</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1fortran-90-version-2001" class="table-of-contents__link toc-highlight">1.FORTRAN 90 Version 2.0.01</a><ul><li><a href="#声明" class="table-of-contents__link toc-highlight">声明</a></li><li><a href="#初始化变量" class="table-of-contents__link toc-highlight">初始化变量</a></li><li><a href="#运行hycom" class="table-of-contents__link toc-highlight">运行HYCOM</a></li><li><a href="#配置hycom" class="table-of-contents__link toc-highlight">配置HYCOM</a></li></ul></li><li><a href="#2连续方程cnuityf" class="table-of-contents__link toc-highlight">2.连续方程：cnuity.f</a><ul><li><a href="#formalism-and-numerical-techniques" class="table-of-contents__link toc-highlight">Formalism and numerical techniques</a></li><li><a href="#usage-使用" class="table-of-contents__link toc-highlight">Usage 使用</a></li><li><a href="#变量" class="table-of-contents__link toc-highlight">变量</a></li><li><a href="#程序" class="table-of-contents__link toc-highlight">程序</a></li></ul></li><li><a href="#3advection-diffusionf" class="table-of-contents__link toc-highlight">3.Advection-diffusion.f</a><ul><li><a href="#formalism-and-numerical-methods" class="table-of-contents__link toc-highlight">Formalism and Numerical methods</a></li><li><a href="#usage-使用-1" class="table-of-contents__link toc-highlight">Usage 使用</a></li><li><a href="#变量-1" class="table-of-contents__link toc-highlight">变量</a></li><li><a href="#程序-1" class="table-of-contents__link toc-highlight">程序</a></li><li><a href="#the-smolarkiewicz-mpdata" class="table-of-contents__link toc-highlight">The Smolarkiewicz MPDATA</a></li></ul></li><li><a href="#4动量方程momtumf" class="table-of-contents__link toc-highlight">4.动量方程：momtum.f</a><ul><li><a href="#forcing-驱动项" class="table-of-contents__link toc-highlight">Forcing 驱动项</a></li><li><a href="#baroclinic-system-斜压系统" class="table-of-contents__link toc-highlight">Baroclinic System 斜压系统</a></li><li><a href="#usage-使用-3" class="table-of-contents__link toc-highlight">Usage 使用</a></li><li><a href="#变量-3" class="table-of-contents__link toc-highlight">变量</a></li></ul></li><li><a href="#5正压模态f" class="table-of-contents__link toc-highlight">5.正压模态.f</a><ul><li><a href="#formalism-and-numerical-techniques-1" class="table-of-contents__link toc-highlight">Formalism and numerical techniques</a></li><li><a href="#usage-使用-4" class="table-of-contents__link toc-highlight">Usage 使用</a></li><li><a href="#变量-4" class="table-of-contents__link toc-highlight">变量</a></li><li><a href="#程序-2" class="table-of-contents__link toc-highlight">程序</a></li></ul></li><li><a href="#6ocean-atmosphere-exchanges--thermff" class="table-of-contents__link toc-highlight">6.Ocean-atmosphere exchanges : thermf.f</a><ul><li><a href="#formalism-and-numerical-techniques-2" class="table-of-contents__link toc-highlight">Formalism and numerical techniques</a></li><li><a href="#usage-使用-5" class="table-of-contents__link toc-highlight">Usage 使用</a></li><li><a href="#运行顺序-3" class="table-of-contents__link toc-highlight">运行顺序</a></li><li><a href="#流程图-5" class="table-of-contents__link toc-highlight">流程图</a></li><li><a href="#变量-5" class="table-of-contents__link toc-highlight">变量</a></li><li><a href="#程序-3" class="table-of-contents__link toc-highlight">程序</a></li></ul></li><li><a href="#7energy-loan-sea-ice-model--icloanf" class="table-of-contents__link toc-highlight">7.Energy Loan Sea Ice Model ： icloan.f</a><ul><li><a href="#formalism-and-numerical-techniques-3" class="table-of-contents__link toc-highlight">Formalism and numerical techniques</a></li><li><a href="#usage-使用-6" class="table-of-contents__link toc-highlight">Usage 使用</a></li><li><a href="#变量-6" class="table-of-contents__link toc-highlight">变量</a></li><li><a href="#程序-4" class="table-of-contents__link toc-highlight">程序</a></li></ul></li><li><a href="#8kpp-vertical-mixing--mxkppf" class="table-of-contents__link toc-highlight">8.KPP Vertical Mixing : mxkpp.f</a><ul><li><a href="#formalism-and-numerical-techniques-4" class="table-of-contents__link toc-highlight">Formalism and numerical techniques</a></li><li><a href="#usage" class="table-of-contents__link toc-highlight">Usage</a></li><li><a href="#变量-7" class="table-of-contents__link toc-highlight">变量</a></li><li><a href="#程序-5" class="table-of-contents__link toc-highlight">程序</a></li></ul></li><li><a href="#9generalized-vertical-coordinates-hybgenf" class="table-of-contents__link toc-highlight">9.Generalized Vertical Coordinates ：hybgen.f</a><ul><li><a href="#formalism-and-numerical-techniques-5" class="table-of-contents__link toc-highlight">Formalism and numerical techniques</a></li><li><a href="#usage-1" class="table-of-contents__link toc-highlight">Usage</a></li><li><a href="#变量-8" class="table-of-contents__link toc-highlight">变量</a></li><li><a href="#程序-6" class="table-of-contents__link toc-highlight">程序</a></li></ul></li><li><a href="#10kraus-turner-mixed-layer-model--mxkrtaf-or-mxkrtbf" class="table-of-contents__link toc-highlight">10.Kraus-Turner Mixed Layer Model : mxkrta.f or mxkrtb.f</a><ul><li><a href="#formalism-and-numerical-techniques-6" class="table-of-contents__link toc-highlight">Formalism and numerical techniques</a></li><li><a href="#usage-2" class="table-of-contents__link toc-highlight">Usage</a></li><li><a href="#变量-9" class="table-of-contents__link toc-highlight">变量</a></li><li><a href="#程序-7" class="table-of-contents__link toc-highlight">程序</a></li></ul></li><li><a href="#11kraus-turner-model---diapycnal-mixing--diapf1f-or-diapf2f" class="table-of-contents__link toc-highlight">11.Kraus-Turner Model - Diapycnal Mixing : diapf1.f or diapf2.f</a><ul><li><a href="#formalism-and-numerical-techniques-7" class="table-of-contents__link toc-highlight">Formalism and numerical techniques</a></li><li><a href="#hybrid-coordinate-explicit-algorithm" class="table-of-contents__link toc-highlight">Hybrid coordinate explicit algorithm</a></li><li><a href="#usage-3" class="table-of-contents__link toc-highlight">Usage</a></li><li><a href="#变量-10" class="table-of-contents__link toc-highlight">变量</a></li><li><a href="#子程序" class="table-of-contents__link toc-highlight">子程序</a></li></ul></li><li><a href="#12micom-mode---k-t-model-3--mxkrtmf" class="table-of-contents__link toc-highlight">12.MICOM Mode - K-T Model 3 : mxkrtm.f</a><ul><li><a href="#formalism-and-numerical-techniques-8" class="table-of-contents__link toc-highlight">Formalism and numerical techniques</a></li><li><a href="#numerical-techniques" class="table-of-contents__link toc-highlight">Numerical techniques</a></li><li><a href="#usage-使用-7" class="table-of-contents__link toc-highlight">Usage 使用</a></li><li><a href="#变量-11" class="table-of-contents__link toc-highlight">变量</a></li><li><a href="#程序-8" class="table-of-contents__link toc-highlight">程序</a></li></ul></li><li><a href="#13convection---kraus-turner-or-micom-mode--convchf-or-convcm-f" class="table-of-contents__link toc-highlight">13.Convection - Kraus-Turner or MICOM Mode : convch.f or convcm .f</a><ul><li><a href="#usage-使用-8" class="table-of-contents__link toc-highlight">Usage 使用</a></li><li><a href="#变量-12" class="table-of-contents__link toc-highlight">变量</a></li><li><a href="#程序-9" class="table-of-contents__link toc-highlight">程序</a></li></ul></li><li><a href="#14micom-mode---diapycnal-mixing--diapf3f" class="table-of-contents__link toc-highlight">14.MICOM Mode - Diapycnal mixing : diapf3.f</a><ul><li><a href="#formalism-and-numerical-techniques-9" class="table-of-contents__link toc-highlight">Formalism and numerical techniques</a></li><li><a href="#usage-使用-9" class="table-of-contents__link toc-highlight">Usage 使用</a></li><li><a href="#变量-13" class="table-of-contents__link toc-highlight">变量</a></li><li><a href="#程序-10" class="table-of-contents__link toc-highlight">程序</a></li></ul></li><li><a href="#15calculational-grid" class="table-of-contents__link toc-highlight">15.Calculational grid</a></li><li><a href="#16boundary-conditions-in-hycom" class="table-of-contents__link toc-highlight">16.Boundary conditions in HYCOM</a><ul><li><a href="#relaxation-boundary-conditions" class="table-of-contents__link toc-highlight">Relaxation Boundary Conditions</a></li><li><a href="#open-boundary-conditions" class="table-of-contents__link toc-highlight">Open Boundary Conditions</a></li></ul></li><li><a href="#17equation-of-state-and-related-issues" class="table-of-contents__link toc-highlight">17.Equation of state and Related Issues</a><ul><li><a href="#equation-of-state" class="table-of-contents__link toc-highlight">Equation of state</a></li><li><a href="#cabbeling" class="table-of-contents__link toc-highlight">Cabbeling</a></li><li><a href="#thermobaric-compressiblity" class="table-of-contents__link toc-highlight">Thermobaric compressiblity</a></li><li><a href="#usage-4" class="table-of-contents__link toc-highlight">Usage</a></li></ul></li><li><a href="#18sub-programs" class="table-of-contents__link toc-highlight">18.Sub-programs</a><ul><li><a href="#functions" class="table-of-contents__link toc-highlight">Functions</a></li><li><a href="#initialization-subroutines" class="table-of-contents__link toc-highlight">Initialization Subroutines</a></li><li><a href="#bathymetry-subroutines" class="table-of-contents__link toc-highlight">Bathymetry Subroutines</a></li><li><a href="#main-hycom-subroutines" class="table-of-contents__link toc-highlight">Main HYCOM Subroutines</a></li><li><a href="#atmospheric-forcing-subroutines" class="table-of-contents__link toc-highlight">Atmospheric Forcing Subroutines</a></li><li><a href="#matrix-inversion-subroutines" class="table-of-contents__link toc-highlight">Matrix Inversion Subroutines</a></li><li><a href="#communication-subroutines" class="table-of-contents__link toc-highlight">Communication Subroutines</a></li><li><a href="#machine-dependent-io-subroutines" class="table-of-contents__link toc-highlight">Machine Dependent I/O Subroutines</a></li><li><a href="#pipe-comparison-subroutines" class="table-of-contents__link toc-highlight">Pipe Comparison Subroutines</a></li><li><a href="#diagnostic-output-subroutines" class="table-of-contents__link toc-highlight">Diagnostic Output Subroutines</a></li><li><a href="#plotting-subroutines" class="table-of-contents__link toc-highlight">Plotting Subroutines</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/paper-notes-intro">论文笔记</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/blogs-intro">个人博客</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">相关内容</a></li><li class="footer__item"><a class="footer__link-item" href="/resume">个人简历</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://t.me/cx_cst" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://blog.csdn.net/qq_45575167" target="_blank" rel="noopener noreferrer" class="footer__link-item">CSDN</a></li><li class="footer__item"><a href="https://github.com/BUAAer-xing" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 BUAAer-xing, 此网站使用 Docusaurus 进行构建✨</div></div></div></footer></div>
</body>
</html>