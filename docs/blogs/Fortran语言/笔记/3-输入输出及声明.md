# 03-è¾“å…¥è¾“å‡ºåŠå£°æ˜

## fortran ç¨‹åºçš„ä¸»è¦ç»“æ„

fortranç¨‹åºå¯ä»¥åŒ…æ‹¬ï¼šä¸»ç¨‹åºã€å­ç¨‹åºã€å‡½æ•°ã€ã€ã€

ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨Fortranç¼–å†™çš„ç¤ºä¾‹ç¨‹åºï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªå­ç¨‹åºå’Œä¸€ä¸ªå‡½æ•°è°ƒç”¨çš„ä¸»ç¨‹åºï¼š

```fortran
program main_program 

  !ä¸ºäº†ç¼–å†™æ›´åŠ å®‰å…¨å’Œå¯é çš„ä»£ç ï¼Œå¯ä»¥åœ¨ç¨‹åºçš„å¼€å¤´ä½¿ç”¨`implicit none`æŒ‡ä»¤æ¥ç¦æ­¢ä½¿ç”¨éšå¼ç±»å‹å£°æ˜è§„åˆ™ã€‚
  implicit none
  
  ! å£°æ˜å˜é‡
  integer :: num1, num2, sum
  real :: radius, area
  
  ! è°ƒç”¨å­ç¨‹åº
  call add_numbers(3, 5, sum)
  
  ! è°ƒç”¨å‡½æ•°
  radius = 2.5
  area = calculate_area(radius)
  
  ! è¾“å‡ºç»“æœ
  print *, "Sum of numbers: ", sum
  print *, "Area of circle: ", area
  
contains
  
  ! å­ç¨‹åºï¼šå°†ä¸¤ä¸ªæ•°ç›¸åŠ 
  subroutine add_numbers(a, b, result)
    implicit none
    integer, intent(in) :: a, b
    integer, intent(out) :: result
    result = a + b
  end subroutine add_numbers
  
  ! å‡½æ•°ï¼šè®¡ç®—åœ†çš„é¢ç§¯
  function calculate_area(radius) result(area)
    implicit none
    real, intent(in) :: radius
    real :: area
    
    area = 3.14159 * radius**2
  end function calculate_area

end program main_program
```

ä¸»ç¨‹åºå£°æ˜äº†å˜é‡`num1`ã€`num2`ã€`sum`å’Œ`radius`ã€`area`ï¼Œç„¶ååˆ†åˆ«è°ƒç”¨äº†ä¸€ä¸ªå­ç¨‹åº`add_numbers`å’Œä¸€ä¸ªå‡½æ•°`calculate_area`ã€‚

å­ç¨‹åº`add_numbers`æ¥å—ä¸¤ä¸ªæ•´æ•°ä½œä¸ºè¾“å…¥å‚æ•°ï¼Œå¹¶å°†å®ƒä»¬ç›¸åŠ ï¼Œå°†ç»“æœå­˜å‚¨åœ¨è¾“å‡ºå‚æ•°`result`ä¸­ã€‚

å‡½æ•°`calculate_area`æ¥å—ä¸€ä¸ªå®æ•°ä½œä¸ºè¾“å…¥å‚æ•°ï¼Œè®¡ç®—åœ†çš„é¢ç§¯ï¼Œå¹¶å°†ç»“æœè¿”å›ç»™è°ƒç”¨è€…ã€‚

åœ¨ä¸»ç¨‹åºä¸­ï¼Œé¦–å…ˆè°ƒç”¨äº†å­ç¨‹åº`add_numbers`æ¥è®¡ç®—3å’Œ5çš„å’Œï¼Œå¹¶å°†ç»“æœå­˜å‚¨åœ¨å˜é‡`sum`ä¸­ã€‚

ç„¶åï¼Œè°ƒç”¨äº†å‡½æ•°`calculate_area`æ¥è®¡ç®—åŠå¾„ä¸º2.5çš„åœ†çš„é¢ç§¯ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åœ¨å˜é‡`area`ä¸­ã€‚

æœ€åï¼Œä½¿ç”¨`print`è¯­å¥è¾“å‡ºç»“æœã€‚

â—ï¸â—ï¸åœ¨Fortranä¸­ï¼Œå­ç¨‹åºä½¿ç”¨`subroutine`å…³é”®å­—å®šä¹‰ï¼Œå‡½æ•°ä½¿ç”¨`function`å…³é”®å­—å®šä¹‰ã€‚

â—ï¸â—ï¸å­ç¨‹åºå¯ä»¥é€šè¿‡`call`è¯­å¥è¿›è¡Œè°ƒç”¨ï¼Œè€Œå‡½æ•°å¯ä»¥é€šè¿‡èµ‹å€¼è¯­å¥å°†è¿”å›å€¼èµ‹ç»™å˜é‡ã€‚

æ³¨æ„ï¼šfortranä¸­çš„contiansç”¨æ³•å’Œä½œç”¨
![[fortranä¸­çš„contians]]

## è¾“å‡ºå‘½ä»¤

### 1-write

åœ¨Fortranä¸­ï¼Œ`write`è¯­å¥ç”¨äºå°†æ•°æ®å†™å…¥è¾“å‡ºæ–‡ä»¶æˆ–æ ‡å‡†è¾“å‡ºï¼ˆé€šå¸¸æ˜¯å±å¹•ï¼‰ã€‚`write`è¯­å¥çš„ä¸€èˆ¬è¯­æ³•ä¸ºï¼š

```fortran
write(unit, format) [output_list]
```

å…¶ä¸­ï¼š
- `unit`æ˜¯ä¸€ä¸ªæ•´æ•°è¡¨è¾¾å¼ï¼Œè¡¨ç¤ºè¾“å‡ºçš„ç›®æ ‡å•å…ƒã€‚
	- é€šå¸¸ï¼Œä½¿ç”¨`*`è¡¨ç¤ºæ ‡å‡†è¾“å‡ºï¼ˆå±å¹•ï¼‰ï¼Œæˆ–ä½¿ç”¨ä¸€ä¸ªæ•´æ•°å€¼è¡¨ç¤ºä¸€ä¸ªæ‰“å¼€çš„è¾“å‡ºæ–‡ä»¶çš„é€»è¾‘å•å…ƒå·
	- æ•°å­—6ä¸å¯ç”¨ï¼Œå› ä¸º6é»˜è®¤ä¸ºç”µè„‘å±å¹•ã€‚
- `format`æ˜¯ä¸€ä¸ªæ ¼å¼æ§åˆ¶å­—ç¬¦ä¸²ï¼ŒæŒ‡å®šè¾“å‡ºçš„æ ¼å¼ã€‚
	- æ ¼å¼æ§åˆ¶å­—ç¬¦ä¸²å¯ä»¥åŒ…å«æ ¼å¼ç¼–è¾‘æè¿°ç¬¦å’Œå…¶ä»–å­—ç¬¦ï¼Œç”¨äºæ§åˆ¶è¾“å‡ºçš„å¸ƒå±€å’Œæ ¼å¼ã€‚
	- `*`è¡¨ç¤ºä¸é™å®šæ ¼å¼
- `output_list`æ˜¯ä¸€ä¸ªç”±é€—å·åˆ†éš”çš„è¾“å‡ºé¡¹åˆ—è¡¨ï¼Œç”¨äºæŒ‡å®šè¦å†™å…¥çš„æ•°æ®ã€‚

æ³¨æ„ğŸ“¢ï¼š
- æ¯æ‰§è¡Œä¸€æ¬¡writeï¼Œéƒ½ä¼šè‡ªåŠ¨æ¢åˆ°ä¸‹ä¸€è¡Œ
	- ä¸æ¢è¡Œè¾“å‡ºçš„è¯ï¼Œä½¿ç”¨`write(*,'($)') è¾“å‡ºå†…å®¹`
- å¯åŒæ—¶è¾“å‡ºå¤šä¸ªæ•°æ®ï¼Œä¸­é—´ä½¿ç”¨é€—å·è¿›è¡Œéš”å¼€

ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„`write`è¯­å¥ç¤ºä¾‹ï¼š

1. å°†ä¸€ä¸ªå­—ç¬¦ä¸²å†™å…¥æ ‡å‡†è¾“å‡ºï¼ˆå±å¹•ï¼‰ï¼š
```fortran
write(*,*) "Hello, World!"
```

2. å°†ä¸€ä¸ªæ•´æ•°å’Œä¸€ä¸ªå®æ•°å†™å…¥æ ‡å‡†è¾“å‡ºï¼ˆå±å¹•ï¼‰ï¼š
```fortran
integer :: num = 42
real :: pi = 3.14159
write(*,*) num, pi
```

3. å°†æ•°æ®å†™å…¥æ–‡ä»¶ï¼š
```fortran
integer :: unit_number
unit_number = 10

! æ‰“å¼€è¾“å‡ºæ–‡ä»¶
open(unit=unit_number, file="output.txt", status='replace')

! å°†æ•°æ®å†™å…¥æ–‡ä»¶
write(unit_number, *) "Hello, File!"
write(unit_number, *) 42

! å…³é—­æ–‡ä»¶
close(unit_number)
```

æ³¨æ„ï¼Œæ ¼å¼æ§åˆ¶å­—ç¬¦ä¸²ä¸­çš„æ ¼å¼ç¼–è¾‘æè¿°ç¬¦å’Œå…¶ä»–å­—ç¬¦çš„ä½¿ç”¨æ–¹å¼å’Œè¯­æ³•ä¼šæœ‰æ‰€ä¸åŒï¼Œå…·ä½“å–å†³äºæ‰€ä½¿ç”¨çš„Fortranç‰ˆæœ¬å’Œç¼–è¯‘å™¨ã€‚å› æ­¤ï¼Œå»ºè®®å‚è€ƒFortranç¼–è¯‘å™¨çš„æ–‡æ¡£ä»¥äº†è§£æ›´å¤šå…³äºæ ¼å¼æ§åˆ¶å­—ç¬¦ä¸²çš„è¯¦ç»†ä¿¡æ¯ã€‚



### 2-print

printçš„ç”¨æ³•å’Œwriteçš„ç”¨æ³•å¤§è‡´ç›¸åŒï¼Œä½†æ˜¯å…¶åé¢ä¸é€‚ç”¨æ‹¬å·ï¼Œè€Œä¸”åªæœ‰ä¸€ä¸ª\*å·ï¼Œè¡¨ç¤ºä¸é™å®šè¾“å‡ºæ ¼å¼

printç¼ºå°‘æŒ‡å®šè®¾å¤‡è¾“å‡ºçš„èƒ½åŠ›ï¼Œä»…ä»…åªèƒ½é’ˆå¯¹å±å¹•è¾“å‡ºæ¥ä½¿ç”¨

ä¾‹å¦‚ï¼š

```fortran
print *,"hello world!"
print *,1,2.0,"string"
```

## è¾“å…¥å‘½ä»¤

åœ¨Fortranä¸­ï¼Œ`read`è¯­å¥ç”¨äºä»è¾“å…¥æ–‡ä»¶æˆ–æ ‡å‡†è¾“å…¥ï¼ˆé€šå¸¸æ˜¯é”®ç›˜ï¼‰è¯»å–æ•°æ®ã€‚`read`è¯­å¥çš„ä¸€èˆ¬è¯­æ³•å¦‚ä¸‹ï¼š

```fortran
read(unit, format) [input_list]
```

å…¶ä¸­ï¼š
- `unit`æ˜¯ä¸€ä¸ªæ•´æ•°è¡¨è¾¾å¼ï¼Œè¡¨ç¤ºè¾“å…¥çš„æ¥æºå•å…ƒã€‚é€šå¸¸ï¼Œä½¿ç”¨`*`æˆ–è€…`5`è¡¨ç¤ºæ ‡å‡†è¾“å…¥ï¼ˆé”®ç›˜ï¼‰ï¼Œæˆ–ä½¿ç”¨ä¸€ä¸ªæ•´æ•°å€¼è¡¨ç¤ºä¸€ä¸ªæ‰“å¼€çš„è¾“å…¥æ–‡ä»¶çš„é€»è¾‘å•å…ƒå·ã€‚
- `format`æ˜¯ä¸€ä¸ªæ ¼å¼æ§åˆ¶å­—ç¬¦ä¸²ï¼ŒæŒ‡å®šè¾“å…¥çš„æ ¼å¼ã€‚æ ¼å¼æ§åˆ¶å­—ç¬¦ä¸²å¯ä»¥åŒ…å«æ ¼å¼ç¼–è¾‘æè¿°ç¬¦å’Œå…¶ä»–å­—ç¬¦ï¼Œç”¨äºæŒ‡å®šè¾“å…¥çš„å¸ƒå±€å’Œæ ¼å¼ã€‚
- `input_list`æ˜¯ä¸€ä¸ªç”±é€—å·åˆ†éš”çš„è¾“å…¥é¡¹åˆ—è¡¨ï¼Œç”¨äºæŒ‡å®šè¦è¯»å–çš„æ•°æ®ã€‚

å¸¸ç”¨çš„`read`è¯­å¥ç¤ºä¾‹ï¼š

1. ä»æ ‡å‡†è¾“å…¥ï¼ˆé”®ç›˜ï¼‰è¯»å–ä¸€ä¸ªæ•´æ•°ï¼š
```fortran
integer :: num
read(*, *) num
```

2. ä»æ ‡å‡†è¾“å…¥ï¼ˆé”®ç›˜ï¼‰è¯»å–ä¸€ä¸ªå®æ•°å’Œä¸€ä¸ªå­—ç¬¦ä¸²ï¼š
```fortran
real :: value
character(len=20) :: text
read(*, *) value, text
```

3. ä»æ–‡ä»¶è¯»å–æ•°æ®ï¼š
```fortran
integer :: unit_number
unit_number = 20

! æ‰“å¼€è¾“å…¥æ–‡ä»¶
open(unit=unit_number, file="input.txt", status='old')

! ä»æ–‡ä»¶è¯»å–æ•°æ®
read(unit_number, *) num
read(unit_number, *) value, text

! å…³é—­æ–‡ä»¶
close(unit_number)
```

æ³¨æ„ğŸ“¢
- åœ¨è¾“å…¥æ—¶ï¼Œä¸€å®šè¦æ³¨æ„å¯¹åº”çš„å˜é‡ç±»å‹ï¼ï¼ï¼
- è‹¥è¾“å…¥å†…å®¹å‡ºç°ç©ºæ ¼ï¼Œè¾“å…¥çš„å­—ç¬¦ä¸²ä¼šè¢«æˆªæ–­ï¼Œåªèƒ½å¾—åˆ°ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²çš„å†…å®¹ã€‚
	- ç”¨å¼•å·å°è£…å­—ç¬¦ä¸²
	- ä½¿ç”¨æ ¼å¼åŒ–è¿›è¡Œè¾“å…¥å’Œè¾“å‡º

ä¾‹å¦‚ï¼š

```fortran
program main
	character(len=100) :: str !éœ€è¦æŒ‡å®šå­—ç¬¦ä¸²çš„æœ€å¤§é•¿åº¦
	read(*,*) str
	write(*,*) str
end
```

æ‰§è¡Œç»“æœï¼š

![image.png|center|600](https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230725020954.png)

![image.png|center|600](https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230725021031.png)

## å£°æ˜ï¼ˆå˜é‡ï¼‰

åœ¨ç¨‹åºä»£ç ä¸­ï¼Œå‘ç¼–è¯‘å™¨è¦æ±‚é¢„ç•™ä¸€äº›å­˜æ”¾æ•°æ®çš„å†…å­˜ç©ºé—´ã€‚

### å£°æ˜å˜é‡

å£°æ˜å˜é‡çš„åŸåˆ™ï¼š

1. å˜é‡å¿…é¡»åœ¨ä½¿ç”¨ä¹‹å‰è¿›è¡Œå£°æ˜ã€‚åœ¨ç¨‹åºçš„å¼€å¤´æˆ–å­ç¨‹åºçš„å¼€å¤´ï¼Œéœ€è¦ä½¿ç”¨`INTEGER`ã€`REAL`ã€`CHARACTER`ç­‰å…³é”®å­—å£°æ˜å˜é‡çš„ç±»å‹ã€‚

2. å˜é‡åå¿…é¡»ä»¥å­—æ¯å¼€å¤´ï¼Œå¹¶ä¸”å¯ä»¥åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿ã€‚å˜é‡åé•¿åº¦ä¸èƒ½è¶…è¿‡31ä¸ªå­—ç¬¦ã€‚

3. åœ¨fortranä¸­ï¼Œå˜é‡æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ã€‚

4. å˜é‡å¯ä»¥ä½¿ç”¨`IMPLICIT NONE`è¯­å¥æ¥ç¦ç”¨éšå¼å£°æ˜ã€‚è¿™æ ·å¯ä»¥ç¡®ä¿æ‰€æœ‰å˜é‡éƒ½å¿…é¡»æ˜¾å¼å£°æ˜ï¼Œé˜²æ­¢å¯èƒ½çš„é”™è¯¯ã€‚

5. å˜é‡å¯ä»¥åœ¨å£°æ˜æ—¶è¿›è¡Œåˆå§‹åŒ–ï¼Œä¾‹å¦‚`INTEGER :: myVariable = 10`ã€‚å¦‚æœæœªåˆå§‹åŒ–ï¼Œåˆ™å˜é‡çš„å€¼æ˜¯æœªå®šä¹‰çš„ã€‚

### æ•´æ•°ç±»å‹ integer

åˆ†ç±»

- **é•¿æ•´å‹ï¼ˆé»˜è®¤ï¼‰**
	- interger(kind=4) a 
- çŸ­æ•´å‹
	- interger(kind=2) b

æ³¨æ„ï¼š64ä½ç³»ç»Ÿè¿˜æ”¯æŒkind=8ï¼Œä¹Ÿå°±æ˜¯64bit

è¿™é‡Œçš„2ï¼Œ4æŒ‡çš„æ˜¯è¯¥å˜é‡æ‰€å çš„å­—èŠ‚æ•°ï¼ˆ$2^2,2^4$ï¼‰ã€‚

### å®æ•°ç±»å‹ real

å®æ•°å’Œæ•´æ•°æœ€å¤§çš„åŒºåˆ«åœ¨äºï¼šå®æ•°å¯ä»¥ä¿å­˜å°æ•°

åˆ†ç±»

- å•ç²¾åº¦ï¼ˆé»˜è®¤ï¼‰
	- real(kind=4) a
- åŒç²¾åº¦
	- real(kind=8) b

```fortran
program main
	real(kind=4) ans1
	real(kind=8) ans2
	ans1=1/3
	ans2=1/3
	print *,ans1
	print *,ans2
end
```

![image.png|center|600](https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230725025546.png)


ğŸ“¢æ³¨æ„ï¼šåœ¨ç»™fortrançš„æ•°å­¦åº“å‡½æ•°ä¼ å…¥å‚æ•°æ—¶ï¼Œéœ€è¦ä½¿ç”¨realç±»å‹

### kindçš„ä½¿ç”¨

![image.png|center|600](https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230725145716.png)



### å¤æ•° complex

`COMPLEX`æ˜¯Fortranä¸­çš„å…³é”®å­—ï¼Œç”¨äºå£°æ˜å¤æ•°ç±»å‹çš„å˜é‡ã€‚å¤æ•°æ˜¯ç”±å®éƒ¨å’Œè™šéƒ¨ç»„æˆçš„æ•°å€¼ç±»å‹ã€‚

åœ¨Fortranä¸­ï¼Œå¤æ•°ç±»å‹çš„å£°æ˜æ–¹å¼å¦‚ä¸‹ï¼š

```fortran
COMPLEX :: z
```

åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œ`z`æ˜¯ä¸€ä¸ªå¤æ•°ç±»å‹çš„å˜é‡ã€‚Fortranä¸­çš„å¤æ•°ç±»å‹ç”±ä¸¤ä¸ªæµ®ç‚¹æ•°ç»„æˆï¼Œä¸€ä¸ªè¡¨ç¤ºå®éƒ¨ï¼Œå¦ä¸€ä¸ªè¡¨ç¤ºè™šéƒ¨ã€‚å®éƒ¨å’Œè™šéƒ¨å¯ä»¥æ˜¯å•ç²¾åº¦æˆ–åŒç²¾åº¦æµ®ç‚¹æ•°ã€‚

å¤æ•°ç±»å‹çš„å˜é‡å¯ä»¥è¿›è¡Œå„ç§å¤æ•°è¿ç®—ï¼Œä¾‹å¦‚åŠ æ³•ã€å‡æ³•ã€ä¹˜æ³•å’Œé™¤æ³•ã€‚Fortranæä¾›äº†ä¸€äº›å†…ç½®çš„å¤æ•°è¿ç®—å‡½æ•°å’Œæ“ä½œç¬¦ï¼Œç”¨äºå¤„ç†å¤æ•°ç±»å‹çš„å˜é‡ã€‚

ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„å¤æ•°è¿ç®—å‡½æ•°å’Œæ“ä½œç¬¦ï¼š

- `cmplx(real, imag)`: è¯¥å‡½æ•°ç”¨äºåˆ›å»ºä¸€ä¸ªå¤æ•°ï¼Œå…¶ä¸­`real`è¡¨ç¤ºå®éƒ¨ï¼Œ`imag`è¡¨ç¤ºè™šéƒ¨ã€‚
	- ä¾‹å¦‚ï¼Œ`z = CMPLX(1.0, 2.0)`å°†åˆ›å»ºä¸€ä¸ªå¤æ•°`z`ï¼Œå…¶å®éƒ¨ä¸º1.0ï¼Œè™šéƒ¨ä¸º2.0ã€‚
	- æˆ–è€…ä¹Ÿå¯ä»¥åœ¨å£°æ˜å®Œä¹‹åï¼Œç›´æ¥é€šè¿‡æ‹¬å·è¿›è¡Œèµ‹å€¼ã€‚

- `REAL(z)`: è¯¥å‡½æ•°ç”¨äºè·å–å¤æ•°`z`çš„å®éƒ¨ã€‚

- `AIMAG(z)`: è¯¥å‡½æ•°ç”¨äºè·å–å¤æ•°`z`çš„è™šéƒ¨ã€‚

- `CONJG(z)`: è¯¥å‡½æ•°ç”¨äºè·å–å¤æ•°`z`çš„å…±è½­å¤æ•°ã€‚

- `z1 + z2`: è¯¥æ“ä½œç¬¦ç”¨äºå°†ä¸¤ä¸ªå¤æ•°`z1`å’Œ`z2`ç›¸åŠ ã€‚

- `z1 - z2`: è¯¥æ“ä½œç¬¦ç”¨äºå°†å¤æ•°`z2`ä»å¤æ•°`z1`ä¸­å‡å»ã€‚

- `z1 * z2`: è¯¥æ“ä½œç¬¦ç”¨äºå°†ä¸¤ä¸ªå¤æ•°`z1`å’Œ`z2`ç›¸ä¹˜ã€‚

- `z1 / z2`: è¯¥æ“ä½œç¬¦ç”¨äºå°†å¤æ•°`z1`é™¤ä»¥å¤æ•°`z2`ã€‚

Fortranè¿˜æä¾›äº†å…¶ä»–ä¸€äº›å¤æ•°ç›¸å…³çš„å‡½æ•°å’Œæ“ä½œç¬¦ï¼Œç”¨äºå¤„ç†å¤æ•°ç±»å‹çš„å˜é‡ã€‚é€šè¿‡ä½¿ç”¨è¿™äº›å‡½æ•°å’Œæ“ä½œç¬¦ï¼Œå¯ä»¥è¿›è¡Œå¤æ•°è¿ç®—å’Œå¤„ç†å¤æ•°ç±»å‹çš„æ•°æ®ã€‚

ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨å¤æ•°ç±»å‹è¿›è¡Œè®¡ç®—çš„ç®€å•Fortranç¤ºä¾‹ï¼š

```fortran
program complex_example
  implicit none
  
  complex :: z1, z2, z_sum, z_product
  
  ! åˆå§‹åŒ–å¤æ•°
  z1 = cmplx(1.0, 2.0)
  z2 = cmplx(3.0, -1.0)
  
  ! å¤æ•°è¿ç®—
  z_sum = z1 + z2
  z_product = z1 * z2
  
  ! è¾“å‡ºç»“æœ
  print *,'z1 = ', real(z1), ' + ', aimag(z1), 'i'
  write(*, *) 'z2 = ', real(z2), ' + ', aimag(z2), 'i'
  write(*, *) 'z1 + z2 = ', real(z_sum), ' + ', aimag(z_sum), 'i'
  write(*, *) 'z1 * z2 = ', real(z_product), ' + ', aimag(z_product), 'i'
  
end program complex_example
```

![image.png|center|600](https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230725030647.png)


### å­—ç¬¦ä»¥åŠå­—ç¬¦ä¸²ç±»å‹ ï¼ˆcharacterï¼‰

####  æ¦‚è¿°

å­—ç¬¦ç±»å‹æ˜¯ç”¨æ¥ä¿å­˜ä¸€ä¸ªå­—ç¬¦æˆ–ä¸€é•¿ä¸²å­—ç¬¦æ‰€ç»„æˆçš„å­—ç¬¦ä¸²æ—¶ï¼Œæ‰€ä½¿ç”¨çš„ç±»å‹

æ³¨æ„ï¼šâ­ï¸â­ï¸ï¼Œåœ¨fortranä¸­éœ€è¦å£°æ˜é•¿åº¦ `character(len=100) str`

é»˜è®¤å­—ç¬¦é•¿åº¦ä¸º1ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå­—ç¬¦é•¿åº¦ã€‚

ä½¿ç”¨`character`ç±»å‹çš„Fortranç¤ºä¾‹ï¼š

```fortran
program character_example
  implicit none
  
  character :: letter
  character(5) :: word
  character(10) :: sentence = "Hello World"
  
  ! å•ä¸ªå­—ç¬¦èµ‹å€¼
  letter = 'A'
  
  ! å­—ç¬¦ä¸²èµ‹å€¼
  word = 'Hello'
  
  ! è¾“å‡ºç»“æœ
  write(*, *) letter
  write(*, *) word
  write(*, *) sentence
  
end program character_example
```

åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å°å†™å­—æ¯å£°æ˜äº†ä¸‰ä¸ª`character`ç±»å‹çš„å˜é‡ï¼š`letter`ã€`word`å’Œ`sentence`ã€‚`letter`ç”¨äº

åœ¨fortranä¸­ï¼Œå¯ä»¥æ”¹å˜å­—ç¬¦ä¸²çš„æŸä¸€éƒ¨åˆ†ï¼Œæ¯”å¦‚ï¼š

è¦æ”¹å˜å­—ç¬¦ä¸²çš„æŸä¸€éƒ¨åˆ†ï¼Œå¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²åˆ‡ç‰‡å’Œå­—ç¬¦ä¸²è¿æ¥çš„æ–¹å¼ã€‚

```fortran
program modify_string_example
  implicit none
  
  character(20) :: sentence = "Hello, World!"
  character(20) :: modified_sentence
 !é€šè¿‡åŒé—­åŒºé—´ï¼Œæ¥å®ç°å¯¹å•ä¸ªå…ƒç´ çš„è®¿é—®å’Œä¿®æ”¹
  print *,sentence(1:1) 
  
  sentence(1:1) = 'h'
  
  ! ä½¿ç”¨å­—ç¬¦ä¸²åˆ‡ç‰‡å’Œè¿æ¥æ¥ä¿®æ”¹å­—ç¬¦ä¸²
  modified_sentence = sentence(1:6) // "Everyone" // sentence(13:)
  
  ! è¾“å‡ºç»“æœ
  write(*, '(a)') modified_sentence
  
end program modify_string_example
```

æ³¨æ„ğŸ“¢ï¼š
- åˆ‡ç‰‡æ“ä½œå’ŒpythonåŸºæœ¬ä¸Šæ˜¯ç±»ä¼¼çš„
- ä½†æ˜¯ï¼Œè®¡æ•°æ˜¯ä»1å¼€å§‹è¿›è¡Œè®¡æ•°çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ1å°±æ˜¯ä»£è¡¨ç¬¬ä¸€ä¸ªå­—ç¬¦
- è€Œä¸”ï¼ŒåŒºé—´çš„èŒƒå›´æ˜¯ï¼Œå‰é—­åé—­ï¼Œç”±æ­¤å¯ä»¥å®ç°å¯¹å•ä¸ªå…ƒç´ è¿›è¡Œè®¿é—®å’Œä¿®æ”¹
- è¿æ¥å­—ç¬¦æ˜¯é€šè¿‡`//`æ¥è¿›è¡Œè¿æ¥çš„ï¼Œè€Œä¸æ˜¯`+`

![image.png|center|600](https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230725032656.png)

#### å­—ç¬¦ä¸²å‡½æ•°

å¸¸ç”¨çš„å­—ç¬¦ä¸²å‡½æ•°ï¼š

1. `len(string)`ï¼šè¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚
2. `trim(string)`ï¼šåˆ é™¤å­—ç¬¦ä¸²æœ«å°¾çš„ç©ºæ ¼ã€‚
3. `adjustl(string)`ï¼šå°†å­—ç¬¦ä¸²å·¦å¯¹é½ï¼Œåˆ é™¤å¼€å¤´çš„ç©ºæ ¼ã€‚
4. `adjustr(string)`ï¼šå°†å­—ç¬¦ä¸²å³å¯¹é½ï¼Œåˆ é™¤æœ«å°¾çš„ç©ºæ ¼ã€‚
5. `index(string, substring)`ï¼šè¿”å›å­å­—ç¬¦ä¸²åœ¨å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚
6. `scan(string, set)`ï¼šè¿”å›å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€ä¸ªä¸ç»™å®šå­—ç¬¦é›†ä¸­çš„å­—ç¬¦åŒ¹é…çš„ä½ç½®ã€‚
7. `verify(string, set)`ï¼šè¿”å›å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€ä¸ªä¸ç»™å®šå­—ç¬¦é›†ä¸­çš„å­—ç¬¦ä¸åŒ¹é…çš„ä½ç½®ã€‚
8. `repeat(string, count)`ï¼šå°†å­—ç¬¦ä¸²é‡å¤æŒ‡å®šæ¬¡æ•°ã€‚
9. `trim(leading/trailing/both, string, trim_chars)`ï¼šåˆ é™¤å­—ç¬¦ä¸²å¼€å¤´/æœ«å°¾/ä¸¤ç«¯çš„æŒ‡å®šå­—ç¬¦é›†ã€‚
	- `trim(string)` ï¼šè¡¨ç¤ºå»é™¤å°¾ç«¯ç©ºæ ¼åçš„å­—ç¬¦ä¸²
10. `transfer(source, dest)`ï¼šå°†ä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢ä¸ºå¦ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¯ä»¥æ”¹å˜å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚

### é€»è¾‘å˜é‡ logical

åœ¨fortranä¸­ï¼Œ`logical`æ˜¯ç”¨äºè¡¨ç¤ºé€»è¾‘å€¼çš„ç±»å‹ã€‚`logical`ç±»å‹çš„å˜é‡åªèƒ½å–ä¸¤ä¸ªå€¼ä¹‹ä¸€ï¼š`.true.`ï¼ˆçœŸï¼‰æˆ–`.false.`ï¼ˆå‡ï¼‰ã€‚

â­ï¸â­ï¸ï¼šåœ¨å°†trueæˆ–falseèµ‹å€¼ç»™logicalå˜é‡ä¹‹å‰ï¼Œéœ€è¦åœ¨ä¸¤ä¸ªå•è¯å‰é¢å’Œåé¢åˆ†åˆ«åŠ ä¸Š`.`ã€‚

ä½¿ç”¨`logical`ç±»å‹çš„ç¤ºä¾‹ï¼š

```fortran
program logical_example
  implicit none
  
  logical :: is_true
  logical :: is_false = .false.
  
  ! é€»è¾‘å€¼èµ‹å€¼
  is_true = .true.
  
  ! è¾“å‡ºç»“æœ
  write(*, '(l)') is_true
  write(*, '(l)') is_false
  
end program logical_example
```


![image.png|center|600](https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230725033409.png)

### å¸¸æ•° parameter

å¸¸æ•°åªèƒ½åœ¨å£°æ˜æ—¶é€šè¿‡parameteræ¥è®¾ç½®æ•°å€¼ï¼Œè€Œä¸”åªèƒ½è®¾ç½®ä¸€æ¬¡

```fortran
real pi
parameter(pi=3.1415926)
```

```fortran
real,parameter :: pi = 3.1415926
```


### è‡ªå®šä¹‰æ•°æ®ç±»å‹ type

è‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼šfortran èƒ½å¤Ÿè‡ªç”±ç»„åˆä¸€äº›åŸºæœ¬æ•°æ®ç±»å‹ï¼Œåˆ›é€ å‡ºä¸€ä¸ªæ›´å¤æ‚ç±»å‹ç»„åˆã€‚

ç±»ä¼¼äºcä¸­çš„structï¼Œç»“æ„ä½“

ä¾‹å¦‚ï¼š
```fortran
module personmodule
    type :: person
        character(50) :: name
        integer :: age
        character(20) :: occupation
        end type person
end module personmodule

program personexample
    use personmodule
    type(person) :: john
    john%name = "John Smith" !è¿™é‡Œçš„%ï¼Œç›¸å½“äºcä¸­çš„.
    john%age = 30
    john%occupation = "Engineer"
    write(*, *) "Name:", john%name
    write(*, *) "Age:", john%age
    write(*, *) "Occupation:", john%occupation
end program personexample
```

```fortran
module personmodule
  type :: person
    character(50) :: name
    integer :: age
    character(20) :: occupation
  end type person
end module personmodule

program personexample
	use personmodule
	type(person) :: john
	john = person("John Smith", 30, "Engineer")
	write(*, *) "Name:", john%name
	write(*, *) "Age:", john%age
	write(*, *) "Occupation:", john%occupation
end program personexample
```


### ç­‰ä»·å£°æ˜ equivalence

ç­‰ä»·å£°æ˜ï¼šæŠŠä¸¤ä¸ªä»¥ä¸Šçš„å˜é‡ï¼Œå£°æ˜ä½¿ç”¨åŒä¸€å†…å­˜åœ°å€

ä½¿ç”¨åŒä¸€å†…å­˜ä½ç½®çš„å˜é‡ï¼Œåªè¦æ”¹å˜å…¶ä¸­ä¸€ä¸ªå˜é‡ï¼Œå°±ä¼šåŒæ—¶æ”¹å˜å…¶ä»–å˜é‡çš„æ•°å€¼

ä¾‹å¦‚ï¼š

```fortran
program example
    integer a,b
    equivalence(a,b)
	    a=3
    print *,a,b
	    b=4
    print *,a,b
end program example
```

![image.png|center|600](https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230725144029.png)

### å£°æ˜åœ¨ç¨‹åºç»“æ„ä¸­çš„ä½ç½®

^9d20db

- å£°æ˜çš„ä½ç½®åº”è¯¥æ”¾åœ¨ç¨‹åºä»£ç çš„å¯æ‰§è¡Œå‘½ä»¤ä¹‹å‰ï¼ˆè¿™ç‚¹å’Œc++ä¸ä¸€æ ·ï¼‰
- åœ¨ç¨‹åºä»£ç å¼€å§‹å‡ºç°æ•°å€¼è®¡ç®—å’Œè¾“å…¥è¾“å‡ºå‘½ä»¤æ—¶ï¼Œå°±ä¸èƒ½å†å£°æ˜å˜é‡äº†

ä¸»è¦ç»“æ„å¦‚ä¸‹ï¼š

```fortran
program main
	implicit none
	
	å£°æ˜å˜é‡

	å¯æ‰§è¡Œå‘½ä»¤ï¼ˆèµ‹å€¼ã€è®¡ç®—ã€è¾“å…¥è¾“å‡ºç­‰ï¼‰
end program main
```

## æ ¼å¼åŒ–è¾“å…¥è¾“å‡º

æ ¼å¼åŒ–è¾“å‡ºçš„ç›®çš„ï¼Œå°±æ˜¯è¦æŠŠæ•°æ®ç»è¿‡æœ‰è®¡åˆ’çš„ç‰ˆé¢è®¾è®¡æ˜¾ç¤ºå‡ºæ¥

åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè¦è¯»å–æ•°æ®æ—¶ï¼Œè¦è®¾ç½®æ°å½“çš„è¾“å…¥æ ¼å¼

### æ ¼å¼åŒ–æ¦‚è¿°

æ ¼å¼åŒ–å°±æ˜¯å†™åœ¨writeå’Œreadå‘½ä»¤ä¸­ç¬¬äºŒä¸ªå‚æ•°ä¸‹çš„ä¸œè¥¿ã€‚

æ¯”å¦‚
```fortran
write(*,"(1x,i5)") a 
```

- `(1X,I5)` æ˜¯æ ¼å¼æ§åˆ¶å­—ç¬¦ä¸²ï¼Œå®ƒæŒ‡å®šäº†è¾“å‡ºçš„æ ¼å¼ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­
Â  - `1X` è¡¨ç¤ºåœ¨è¾“å‡ºå‰æ·»åŠ ä¸€ä¸ªç©ºæ ¼ï¼Œ`1` è¡¨ç¤ºä¸€ä¸ªå­—æ®µçš„å®½åº¦ï¼Œ`X` è¡¨ç¤ºæ·»åŠ ç©ºæ ¼ã€‚
Â  - `I5` è¡¨ç¤ºè¾“å‡ºä¸€ä¸ªå®½åº¦ä¸º 5 çš„æ•´æ•°ã€‚

æ±‡æ€»è¡¨æ ¼å¦‚ä¸‹ï¼š

![image.png|center|600](https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230725034526.png)

### æ ¼å¼åŒ–è¾“å‡ºè¯¦ç»†ä»‹ç»

i f e a x æ˜¯æœ€å¸¸ç”¨çš„å‡ ä¸ªæ ¼å¼

- i ï¼ˆintegerï¼‰ï¼š æ•´å‹
- f ï¼ˆfloatï¼‰ï¼šå°æ•°
- e ï¼šç§‘å­¦è®¡æ•°æ³•å°æ•°
- a ï¼šå­—ç¬¦
- x ï¼šç©ºæ ¼

#### Iw è§„å®šå­—ç¬¦é•¿æ¥è¾“å‡ºæ•´æ•°

æ ¼å¼ï¼š`Iw [.m]`
è¡¨ç¤ºï¼šä»¥**wä¸ªå­—ç¬¦**é•¿åº¦æ¥è¾“å‡ºæ•´æ•°ï¼Œè‡³å°‘è¾“å‡º**mä¸ªæ•°å­—**

![image.png|center|600](https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230725123059.png)

#### Fw .dè§„å®šå­—ç¬¦é•¿æ¥è¾“å‡ºå®æ•°

æ ¼å¼ï¼š`Fw.d`
è¡¨ç¤ºï¼šä»¥wä¸ªå­—ç¬¦é•¿æ¥è¾“å‡ºå®æ•°ï¼Œå°æ•°éƒ¨åˆ†å dä¸ªå­—ç¬¦

![image.png|center|600](https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230725123434.png)

#### Ew.d è§„å®šå­—ç¬¦é•¿åº¦æ¥è¾“å‡ºå®æ•°

å½¢å¼ï¼š`Ew.d[Ee]`
è¡¨ç¤ºï¼šç”¨ç§‘å­¦è®¡æ•°æ³•ï¼Œä»¥wä¸ªå­—ç¬¦é•¿æ¥è¾“å‡ºå®æ•°ï¼Œå°æ•°éƒ¨åˆ†å dä¸ªå­—ç¬¦é•¿ï¼ŒæŒ‡æ•°éƒ¨åˆ†æœ€å°‘è¾“å‡ºeä¸ªå­—ç¬¦ã€‚

ğŸ“¢ï¼šæŒ‡æ•°éƒ¨åˆ†é»˜è®¤ä¸º2ï¸âƒ£ä½æ•°å­—

![image.png|center|600](https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230725123815.png)


#### Aw è§„å®šå­—ç¬¦é•¿åº¦æ¥è¾“å‡ºå­—ç¬¦ä¸²

å½¢å¼ï¼š`Aw`
è¡¨ç¤ºï¼šä»¥wä¸ªå­—ç¬¦é•¿æ¥è¾“å‡ºå­—ç¬¦ä¸²

![image.png|center|600](https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230725123953.png)

#### nX è¾“å‡ºä½ç½®ç§»åŠ¨

å½¢å¼ï¼š`nX`
è¡¨ç¤ºï¼šè¾“å‡ºä½ç½®å‘å³ç§»åŠ¨nä½

![image.png|center|600](https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230725124115.png)

#### Lw è§„å®šè¾“å‡ºå¸ƒå°”å€¼çš„å­—ç¬¦é•¿åº¦

å½¢å¼ï¼š`Lw`
è¡¨ç¤ºï¼šä»¥wä¸ªå­—ç¬¦é•¿æ¥è¾“å‡ºTæˆ–Fçš„çœŸå‡å€¼

![image.png|center|600](https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230725124250.png)

#### Gw.d è§„å®šå­—ç¬¦é•¿è¾“å‡ºæ‰€æœ‰ç±»å‹çš„æ•°æ®

ä»¥wä¸ªå­—ç¬¦é•¿æ¥è¾“å‡ºæ‰€æœ‰ç±»å‹çš„æ•°æ®ï¼Œdä¸ä¸€å®šä¼šä½¿ç”¨ï¼Œä½†æ˜¯<font color="##c00000">ä¸èƒ½çœç•¥</font>

- ç”¨æ¥è¾“å…¥/è¾“å‡º `å­—ç¬¦/æ•´æ•°/é€»è¾‘æ•°`æ—¶ï¼ŒGw.d=Aw/Iw/Lwï¼Œå…¶ä¸­ï¼Œdå¿…é¡»éšä¾¿ç»™ä¸€ä¸ªæ•°å­—ï¼Œä¸èƒ½çœç•¥
- ç”¨æ¥è¾“å…¥æˆ–è¾“å‡º`å®æ•°`æ—¶ï¼ŒGw.d=Fw.dæˆ–Ew.d
	- ç”±äºåœ¨ä»¥ç§‘å­¦è®¡æ•°æ³•è¾“å‡ºæ—¶ï¼Œå…·æœ‰`0 . + E`å››ä¸ªå­—ç¬¦çš„å ä½è€Œä¸”æŒ‡æ•°éƒ¨åˆ†çš„ä½æ•°ä¸º2ä½ï¼Œå› æ­¤å¦‚æœèƒ½è¡¨ç¤ºä¸ºç§‘å­¦è®¡æ•°æ³•ï¼Œåˆ™ä¼˜å…ˆè¡¨ç¤ºä¸ºç§‘å­¦è®¡æ•°æ³•ï¼Œå¦‚æœä¸èƒ½ï¼Œåˆ™è¡¨ç¤ºä¸ºæµ®ç‚¹æ•°ï¼Œæµ®ç‚¹æ•°çš„å½¢å¼ä¸ºï¼šï¼ˆFa.b,4Xï¼‰,å…¶ä¸­ï¼Œè¯¥4xå°†ä¸ä¼šæ˜¾ç¤ºå‡ºæ¥ï¼Œå› ä¸ºnxæ ¼å¼å¿…é¡»åœ¨fa.bæŒ‡ä»¤å‰ï¼Œæ‰èƒ½è¿›è¡Œæ˜¾ç¤º

ä¾‹å¦‚ï¼š
```fortran
program example
  
  write(*,"(G9.4)") 123.0   !ç­‰åŒäºF5.1
  
  write(*,"(G9.2)") 123.0   !ç­‰åŒäºE9.2 
  
  write(*,"(4X,F5.1)") 123.0  
  
  write(*,"(F5.1,4X)") 123.0   !ç­‰åŒäºF5.1

end program example

!123.0 = 0.12E+03 (2ä½å°æ•°)
!123.0 = 0.1230E+03(4ä½å°æ•°)
```

![image.png|center|600](https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230725132518.png)

#### / æ¢è¡Œç¬¦

åœ¨æ ¼å¼åŒ–ä¸­ï¼Œæ·»åŠ  / ï¼Œè¡¨ç¤ºæ¢è¡Œè¾“å‡º

```fortran
write(*,"(I3//I3)") 10, 10 ! / ä»£è¡¨æ¢è¡Œ
write(*,"(I3, /, /, I3)") 10, 10 ! å¯ä»¥ä¸­é—´åŠ é€—å·
```

![image.png|center|600](https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230725140813.png)


#### Tn ç§»åŠ¨è¾“å‡ºä½ç½®

æŠŠè¾“å‡ºçš„ä½ç½®ç§»åŠ¨åˆ°æœ¬è¡Œçš„ç¬¬nä¸ªå­—ç¬¦

```fortran
program example
write(*,"(T3,I3)") 100 ! æŠŠè¾“å‡ºä½ç½®ç§»åŠ¨åˆ°ç¬¬3ä¸ªå­—ç¬¦
end program example
```

#### é‡å¤åœ°ä»¥ç›¸åŒçš„æ ¼å¼è¾“å‡ºæ•°æ®

```fortran
program example
write(*,"(3(1x,f5.2))") 1.0,2.0,3.0
write(*,"(3f6.2)")1.0,2.0,3.0
end program example
```

![image.png|center|600](https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230725141731.png)

#### åœ¨æ ¼å¼åŒ–ä¸­è¾“å‡ºå­—ç¬¦ä¸²

```fortran
program example
write(*,"('3 + 4 =',1x,I1)") 3+4 ! ç”¨å•å¼•å·å°è£…å­—ç¬¦
write(*,'("3 + 4 =",1x,I1)') 3+4 ! ç”¨åŒå¼•å·å°è£…å­—ç¬¦
end program example
```


![image.png|center|600](https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230725142014.png)

#### å°†è¾“å‡ºæ ¼å¼å˜ä¸ºå­—ç¬¦ä¸²

å¯ä»¥æŠŠè¾“å‡ºæ ¼å¼æ”¾åœ¨å­—ç¬¦ä¸²å˜é‡ä¸­

```fortran
program example
character(len=100) :: fmt = "('3 + 4 =',1x,I1)"
write(*,"('3 + 4 =',1x,I1)") 3+4 ! ç”¨å•å¼•å·å°è£…å­—ç¬¦
write(*,'("3 + 4 =",1x,I1)') 3+4 ! ç”¨åŒå¼•å·å°è£…å­—ç¬¦
print fmt,3+4 !ä½¿ç”¨è¾“å‡ºæ ¼å¼å­—ç¬¦ä¸²è¿›è¡Œæ ¼å¼åŒ–è¾“å‡ºï¼Œæ–¹ä¾¿å¯¹è¾“å‡ºæ ¼å¼è¿›è¡Œæ§åˆ¶
end program example
```

![image.png|center|600](https://jsd.cdn.zzko.cn/gh/NEUQer-xing/Markdown_images@master/images-2/20230725142434.png)

## implicitå‘½ä»¤

### implicit è®¾ç½®é»˜è®¤ç±»å‹
åœ¨Fortranä¸­ï¼Œ`implicit`è¯­å¥ç”¨äºæŒ‡å®šå˜é‡çš„éšå¼ç±»å‹ã€‚å®ƒæ§åˆ¶äº†åœ¨æ²¡æœ‰æ˜¾å¼å£°æ˜çš„æƒ…å†µä¸‹ï¼Œå˜é‡åçš„é¦–å­—æ¯æ‰€éšå«çš„æ•°æ®ç±»å‹ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼ŒFortranä½¿ç”¨ä»¥ä¸‹éšå¼è§„åˆ™æ¥ç¡®å®šå˜é‡çš„ç±»å‹ï¼š

- å˜é‡åä»¥ `I`, `J`, `K`, `L`, `M`, æˆ– `N` å¼€å¤´ï¼Œé»˜è®¤ä¸ºæ•´æ•°ç±»å‹ã€‚
- å˜é‡åä»¥å…¶ä»–å­—æ¯å¼€å¤´ï¼Œé»˜è®¤ä¸ºå®æ•°ç±»å‹ã€‚

ç¤ºä¾‹ï¼š

```fortran
program implicit_example
  implicit integer(i-n)
  implicit real*8(x-z)
  
  i = 42
  x = 3.14
  
  write(*, *) i
  write(*, *) x
  
end program implicit_example
```

- `implicit integer(i-n)` è¡¨ç¤ºä»¥å­—æ¯ `I` åˆ° `N` å¼€å¤´çš„å˜é‡é»˜è®¤ä¸ºæ•´æ•°ç±»å‹ã€‚
- `implicit real*8(x-z)` è¡¨ç¤ºä»¥å­—æ¯ `X` åˆ° `Z` å¼€å¤´çš„å˜é‡é»˜è®¤ä¸ºåŒç²¾åº¦å®æ•°ç±»å‹ã€‚

ç”±äºä½¿ç”¨äº† `IMPLICIT` è¯­å¥ï¼Œæˆ‘ä»¬æ— éœ€æ˜¾å¼å£°æ˜å˜é‡çš„ç±»å‹ã€‚

åœ¨èµ‹å€¼è¯­å¥ä¸­ï¼Œæˆ‘ä»¬å°†æ•´æ•°å€¼ 42 èµ‹ç»™ `i`ï¼Œå°†åŒç²¾åº¦å®æ•°å€¼ 3.14 èµ‹ç»™ `x`ã€‚

æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨ `WRITE` è¯­å¥å°†å˜é‡ `i` å’Œ `x` çš„å€¼è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºã€‚

### implicit none å…³é—­é»˜è®¤ç±»å‹

å½“å…³é—­é»˜è®¤ç±»å‹åŠŸèƒ½æ—¶ï¼Œæ‰€æœ‰å˜é‡éƒ½éœ€è¦è¿›è¡Œå£°æ˜

implicitå‘½ä»¤å¿…é¡»æ”¾åœ¨programå‘½ä»¤çš„ä¸‹ä¸€è¡Œ

ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š

```fortran
program implicit_example
  implicit none
  
  integer :: i
  real :: x
  
  i = 42
  x = 3.14
  
  write(*, *) i
  write(*, *) x
  
end program implicit_example
```

åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† `implicit none` è¯­å¥ï¼Œå®ƒå‘Šè¯‰Fortranç¦æ­¢éšå¼å£°æ˜å˜é‡çš„ç±»å‹ã€‚è¿™æ„å‘³ç€æ‰€æœ‰çš„å˜é‡å¿…é¡»æ˜¾å¼åœ°å£°æ˜å…¶ç±»å‹ã€‚

ç„¶åï¼Œæˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ªæ•´æ•°å˜é‡ `i` å’Œä¸€ä¸ªå®æ•°å˜é‡ `x`ã€‚ç”±äº `implicit none` çš„å­˜åœ¨ï¼Œæˆ‘ä»¬å¿…é¡»æ˜¾å¼åœ°æŒ‡å®šè¿™äº›å˜é‡çš„ç±»å‹ã€‚

æˆ‘ä»¬å°†æ•´æ•°å€¼ 42 èµ‹ç»™ `i`ï¼Œå°†å®æ•°å€¼ 3.14 èµ‹ç»™ `x`ã€‚

æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨ `write` è¯­å¥å°†å˜é‡ `i` å’Œ `x` çš„å€¼è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºã€‚

é€šè¿‡ä½¿ç”¨ `implicit none`ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®ä¿æ‰€æœ‰çš„å˜é‡éƒ½è¢«æ˜¾å¼å£°æ˜ï¼Œå¢åŠ äº†ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œå¹¶å‡å°‘äº†ç”±äºéšå¼å£°æ˜å¼•èµ·çš„æ½œåœ¨é”™è¯¯ã€‚
